<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="com.luckyl.wargame.service.GameServiceImplTest" time="29.572" tests="93" errors="3" skipped="0" failures="0">
  <properties>
    <property name="java.specification.version" value="15"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/Users/kevinapril/git/wargame/wargame-service/target/test-classes:/Users/kevinapril/git/wargame/wargame-service/target/classes:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter/2.2.6.RELEASE/spring-boot-starter-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot/2.2.6.RELEASE/spring-boot-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-context/5.2.5.RELEASE/spring-context-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-expression/5.2.5.RELEASE/spring-expression-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.2.6.RELEASE/spring-boot-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.2.6.RELEASE/spring-boot-starter-logging-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.12.1/log4j-to-slf4j-2.12.1.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-api/2.12.1/log4j-api-2.12.1.jar:/Users/kevinapril/.m2/repository/org/slf4j/jul-to-slf4j/1.7.30/jul-to-slf4j-1.7.30.jar:/Users/kevinapril/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-core/5.2.5.RELEASE/spring-core-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jcl/5.2.5.RELEASE/spring-jcl-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/yaml/snakeyaml/1.25/snakeyaml-1.25.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-devtools/2.2.6.RELEASE/spring-boot-devtools-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.2.6.RELEASE/spring-boot-configuration-processor-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/projectlombok/lombok/1.18.12/lombok-1.18.12.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.2.6.RELEASE/spring-boot-starter-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.2.6.RELEASE/spring-boot-starter-aop-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aop/5.2.5.RELEASE/spring-aop-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/aspectj/aspectjweaver/1.9.5/aspectjweaver-1.9.5.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.2.6.RELEASE/spring-boot-starter-jdbc-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/zaxxer/HikariCP/3.4.2/HikariCP-3.4.2.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jdbc/5.2.5.RELEASE/spring-jdbc-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/kevinapril/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/kevinapril/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/kevinapril/.m2/repository/org/hibernate/hibernate-core/5.4.12.Final/hibernate-core-5.4.12.Final.jar:/Users/kevinapril/.m2/repository/org/jboss/logging/jboss-logging/3.4.1.Final/jboss-logging-3.4.1.Final.jar:/Users/kevinapril/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy/1.10.8/byte-buddy-1.10.8.jar:/Users/kevinapril/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/kevinapril/.m2/repository/org/jboss/jandex/2.1.1.Final/jandex-2.1.1.Final.jar:/Users/kevinapril/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/kevinapril/.m2/repository/org/dom4j/dom4j/2.1.1/dom4j-2.1.1.jar:/Users/kevinapril/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jaxb-runtime-2.3.2.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/txw2/2.3.2/txw2-2.3.2.jar:/Users/kevinapril/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.8/istack-commons-runtime-3.0.8.jar:/Users/kevinapril/.m2/repository/org/jvnet/staxex/stax-ex/1.8.1/stax-ex-1.8.1.jar:/Users/kevinapril/.m2/repository/com/sun/xml/fastinfoset/FastInfoset/1.2.16/FastInfoset-1.2.16.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-jpa/2.2.6.RELEASE/spring-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-commons/2.2.6.RELEASE/spring-data-commons-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-orm/5.2.5.RELEASE/spring-orm-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-tx/5.2.5.RELEASE/spring-tx-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-beans/5.2.5.RELEASE/spring-beans-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aspects/5.2.5.RELEASE/spring-aspects-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.2.6.RELEASE/spring-boot-starter-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test/2.2.6.RELEASE/spring-boot-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.2.6.RELEASE/spring-boot-test-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/Users/kevinapril/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/kevinapril/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/kevinapril/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/kevinapril/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter/5.5.2/junit-jupiter-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.5.2/junit-jupiter-api-5.5.2.jar:/Users/kevinapril/.m2/repository/org/apiguardian/apiguardian-api/1.1.0/apiguardian-api-1.1.0.jar:/Users/kevinapril/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-commons/1.5.2/junit-platform-commons-1.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.5.2/junit-jupiter-params-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.5.2/junit-jupiter-engine-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-engine/1.5.2/junit-platform-engine-1.5.2.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-junit-jupiter/3.1.0/mockito-junit-jupiter-3.1.0.jar:/Users/kevinapril/.m2/repository/org/assertj/assertj-core/3.13.2/assertj-core-3.13.2.jar:/Users/kevinapril/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-core/3.1.0/mockito-core-3.1.0.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy-agent/1.10.8/byte-buddy-agent-1.10.8.jar:/Users/kevinapril/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/kevinapril/.m2/repository/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/Users/kevinapril/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-test/5.2.5.RELEASE/spring-test-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/xmlunit/xmlunit-core/2.6.4/xmlunit-core-2.6.4.jar:/Users/kevinapril/git/wargame/wargame-api/target/wargame-api-1.1-SNAPSHOT.jar:/Users/kevinapril/.m2/repository/org/apache/commons/commons-lang3/3.9/commons-lang3-3.9.jar:/Users/kevinapril/.m2/repository/com/h2database/h2/1.4.200/h2-1.4.200.jar:/Users/kevinapril/.m2/repository/javax/servlet/javax.servlet-api/4.0.1/javax.servlet-api-4.0.1.jar:"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://java.oracle.com/"/>
    <property name="user.timezone" value="America/Chicago"/>
    <property name="os.name" value="Mac OS X"/>
    <property name="java.vm.specification.version" value="15"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="user.country" value="US"/>
    <property name="sun.boot.library.path" value="/Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home/lib"/>
    <property name="sun.java.command" value="/Users/kevinapril/git/wargame/wargame-service/target/surefire/surefirebooter6986693075363321373.jar /Users/kevinapril/git/wargame/wargame-service/target/surefire 2020-12-02T23-19-15_005-jvmRun1 surefire188056361152758861tmp surefire_018233286729926850916tmp"/>
    <property name="http.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="jdk.debug" value="release"/>
    <property name="surefire.test.class.path" value="/Users/kevinapril/git/wargame/wargame-service/target/test-classes:/Users/kevinapril/git/wargame/wargame-service/target/classes:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter/2.2.6.RELEASE/spring-boot-starter-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot/2.2.6.RELEASE/spring-boot-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-context/5.2.5.RELEASE/spring-context-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-expression/5.2.5.RELEASE/spring-expression-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.2.6.RELEASE/spring-boot-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.2.6.RELEASE/spring-boot-starter-logging-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.12.1/log4j-to-slf4j-2.12.1.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-api/2.12.1/log4j-api-2.12.1.jar:/Users/kevinapril/.m2/repository/org/slf4j/jul-to-slf4j/1.7.30/jul-to-slf4j-1.7.30.jar:/Users/kevinapril/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-core/5.2.5.RELEASE/spring-core-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jcl/5.2.5.RELEASE/spring-jcl-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/yaml/snakeyaml/1.25/snakeyaml-1.25.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-devtools/2.2.6.RELEASE/spring-boot-devtools-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.2.6.RELEASE/spring-boot-configuration-processor-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/projectlombok/lombok/1.18.12/lombok-1.18.12.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.2.6.RELEASE/spring-boot-starter-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.2.6.RELEASE/spring-boot-starter-aop-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aop/5.2.5.RELEASE/spring-aop-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/aspectj/aspectjweaver/1.9.5/aspectjweaver-1.9.5.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.2.6.RELEASE/spring-boot-starter-jdbc-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/zaxxer/HikariCP/3.4.2/HikariCP-3.4.2.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jdbc/5.2.5.RELEASE/spring-jdbc-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/kevinapril/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/kevinapril/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/kevinapril/.m2/repository/org/hibernate/hibernate-core/5.4.12.Final/hibernate-core-5.4.12.Final.jar:/Users/kevinapril/.m2/repository/org/jboss/logging/jboss-logging/3.4.1.Final/jboss-logging-3.4.1.Final.jar:/Users/kevinapril/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy/1.10.8/byte-buddy-1.10.8.jar:/Users/kevinapril/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/kevinapril/.m2/repository/org/jboss/jandex/2.1.1.Final/jandex-2.1.1.Final.jar:/Users/kevinapril/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/kevinapril/.m2/repository/org/dom4j/dom4j/2.1.1/dom4j-2.1.1.jar:/Users/kevinapril/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jaxb-runtime-2.3.2.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/txw2/2.3.2/txw2-2.3.2.jar:/Users/kevinapril/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.8/istack-commons-runtime-3.0.8.jar:/Users/kevinapril/.m2/repository/org/jvnet/staxex/stax-ex/1.8.1/stax-ex-1.8.1.jar:/Users/kevinapril/.m2/repository/com/sun/xml/fastinfoset/FastInfoset/1.2.16/FastInfoset-1.2.16.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-jpa/2.2.6.RELEASE/spring-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-commons/2.2.6.RELEASE/spring-data-commons-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-orm/5.2.5.RELEASE/spring-orm-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-tx/5.2.5.RELEASE/spring-tx-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-beans/5.2.5.RELEASE/spring-beans-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aspects/5.2.5.RELEASE/spring-aspects-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.2.6.RELEASE/spring-boot-starter-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test/2.2.6.RELEASE/spring-boot-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.2.6.RELEASE/spring-boot-test-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/Users/kevinapril/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/kevinapril/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/kevinapril/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/kevinapril/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter/5.5.2/junit-jupiter-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.5.2/junit-jupiter-api-5.5.2.jar:/Users/kevinapril/.m2/repository/org/apiguardian/apiguardian-api/1.1.0/apiguardian-api-1.1.0.jar:/Users/kevinapril/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-commons/1.5.2/junit-platform-commons-1.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.5.2/junit-jupiter-params-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.5.2/junit-jupiter-engine-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-engine/1.5.2/junit-platform-engine-1.5.2.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-junit-jupiter/3.1.0/mockito-junit-jupiter-3.1.0.jar:/Users/kevinapril/.m2/repository/org/assertj/assertj-core/3.13.2/assertj-core-3.13.2.jar:/Users/kevinapril/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-core/3.1.0/mockito-core-3.1.0.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy-agent/1.10.8/byte-buddy-agent-1.10.8.jar:/Users/kevinapril/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/kevinapril/.m2/repository/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/Users/kevinapril/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-test/5.2.5.RELEASE/spring-test-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/xmlunit/xmlunit-core/2.6.4/xmlunit-core-2.6.4.jar:/Users/kevinapril/git/wargame/wargame-api/target/wargame-api-1.1-SNAPSHOT.jar:/Users/kevinapril/.m2/repository/org/apache/commons/commons-lang3/3.9/commons-lang3-3.9.jar:/Users/kevinapril/.m2/repository/com/h2database/h2/1.4.200/h2-1.4.200.jar:/Users/kevinapril/.m2/repository/javax/servlet/javax.servlet-api/4.0.1/javax.servlet-api-4.0.1.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/Users/kevinapril"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.version.date" value="2020-10-20"/>
    <property name="java.home" value="/Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home"/>
    <property name="file.separator" value="/"/>
    <property name="basedir" value="/Users/kevinapril/git/wargame/wargame-service"/>
    <property name="java.vm.compressedOopsMode" value="Zero based"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.headless" value="true"/>
    <property name="surefire.real.class.path" value="/Users/kevinapril/git/wargame/wargame-service/target/surefire/surefirebooter6986693075363321373.jar"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="ftp.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="java.runtime.version" value="15.0.1+9-18"/>
    <property name="user.name" value="kevinapril"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="10.15.5"/>
    <property name="java.runtime.name" value="Java(TM) SE Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="spring.beaninfo.ignore" value="true"/>
    <property name="java.vm.name" value="Java HotSpot(TM) 64-Bit Server VM"/>
    <property name="localRepository" value="/Users/kevinapril/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://bugreport.java.com/bugreport/"/>
    <property name="java.io.tmpdir" value="/var/folders/dx/mmk627qd2595w2p8rnf6qxqm0000gn/T/"/>
    <property name="idea.version" value="2020.3"/>
    <property name="java.version" value="15.0.1"/>
    <property name="user.dir" value="/Users/kevinapril/git/wargame/wargame-service"/>
    <property name="os.arch" value="x86_64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="PID" value="43721"/>
    <property name="java.library.path" value="/Users/kevinapril/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:."/>
    <property name="java.vm.info" value="mixed mode, sharing"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="java.vm.version" value="15.0.1+9-18"/>
    <property name="sun.io.unicode.encoding" value="UnicodeBig"/>
    <property name="socksNonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="java.class.version" value="59.0"/>
  </properties>
  <testcase name="attack_win(Pair)" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.016">
    <error type="java.lang.NullPointerException"><![CDATA[java.lang.NullPointerException: Cannot invoke "java.util.List.isEmpty()" because "this.ranksBlue" is null
]]></error>
    <system-out><![CDATA[2020-12-02 23:19:35.970  INFO 43721 --- [           main] b.t.a.o.j.DataJpaTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.luckyl.wargame.service.GameServiceImplTest], using SpringBootContextLoader
2020-12-02 23:19:35.971  INFO 43721 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.luckyl.wargame.service.GameServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2020-12-02 23:19:35.971  INFO 43721 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.luckyl.wargame.service.GameServiceImplTest]: GameServiceImplTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2020-12-02 23:19:35.979  INFO 43721 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.luckyl.wargame.TestApplication for test class com.luckyl.wargame.service.GameServiceImplTest
2020-12-02 23:19:35.982  INFO 43721 --- [           main] b.t.a.o.j.DataJpaTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-12-02 23:19:35.985  INFO 43721 --- [           main] b.t.a.o.j.DataJpaTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c630bff, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3447c3ed, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@62065a8c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6f053a97, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5b8de87b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@515f104c, org.springframework.test.context.event.EventPublishingTestExecutionListener@1dde2d1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@47caa1ff, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7330574d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5ac4f417, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@34615ef4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@26b6c4de]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.413">
    <system-out><![CDATA[2020-12-02 23:19:36.016  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:36.016  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:36.016 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:36.017 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:36.017 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:36.071  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:36.071  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:36.133  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:36.147  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:36.156  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:36.170  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0455d987-36ac-421a-9a38-055feaed3cb9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:36.216  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:36.221  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:36.259 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:36.259 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:36.259 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:36.259 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:36.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:36.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:36.261 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:36.262  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:36.262  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:36.367  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.332 seconds (JVM running for 15.658)
2020-12-02 23:19:36.370  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1b9df329, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7963767d]; rollback [true]
2020-12-02 23:19:36.389 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:36.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:36.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:36.422 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:36.422 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:36.422 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:36.423 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:36.423 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:36.423 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:19:36.423 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:36.428  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1b9df329, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.382">
    <system-out><![CDATA[2020-12-02 23:19:36.432  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:36.432  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:36.432 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:36.433 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:36.433 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:36.456  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:36.456  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:36.520  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:36.532  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:36.541  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:36.557  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:26dc6937-721e-4e9f-95ec-6b39a0696430;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:36.600  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:36.603  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:36.657 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:36.658 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:36.658 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:36.658 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:36.663 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:36.664 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:36.665 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:36.668  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:36.669  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:36.802  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.365 seconds (JVM running for 16.092)
2020-12-02 23:19:36.804  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7497c5d9, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@513f965e]; rollback [true]
2020-12-02 23:19:36.806 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:36.807 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:36.807 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:36.810 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:36.810 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:36.810 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:36.810 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:36.811 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:36.811 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:19:36.811 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:36.813  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7497c5d9, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.355">
    <system-out><![CDATA[2020-12-02 23:19:36.819  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:36.819  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:36.819 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:36.822 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:36.822 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:36.850  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:36.851  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:36.912  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:36.921  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:36.926  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:36.936  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:f8682ad5-75e5-48e6-a8c7-a39771e326e9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:36.966  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:36.969  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:37.001 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:37.001 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:37.001 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:37.001 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:37.002 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:37.003 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:37.004 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:37.006  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:37.006  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:37.156  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.329 seconds (JVM running for 16.447)
2020-12-02 23:19:37.161  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@661de25, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1d17fbda]; rollback [true]
2020-12-02 23:19:37.163 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:37.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:37.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:37.168 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:37.168 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:37.168 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:37.168 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:37.168 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:37.168 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:19:37.169 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:37.172  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@661de25, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.329">
    <system-out><![CDATA[2020-12-02 23:19:37.191  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:37.192  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:37.192 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:37.194 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:37.195 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:37.221  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:37.221  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:37.268  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:37.276  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:37.282  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:37.294  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:17928172-cd47-4341-9291-b8c609ef1282;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:37.332  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:37.335  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:37.366 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:37.366 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:37.366 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:37.367 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:37.367 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:37.368 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:37.369 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:37.370  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:37.370  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:37.506  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.3 seconds (JVM running for 16.796)
2020-12-02 23:19:37.508  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6aef4277, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@74131bff]; rollback [true]
2020-12-02 23:19:37.510 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:37.510 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:37.510 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:37.514 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:37.514 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:37.514 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:37.514 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:37.514 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:37.514 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:37.515 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:37.518  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6aef4277, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.383">
    <system-out><![CDATA[2020-12-02 23:19:37.521  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:37.521  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:37.521 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:37.522 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:37.522 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:37.541  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:37.542  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:37.598  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:37.607  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:37.612  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:37.623  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:9c6a0931-5d9f-4b09-b5ae-c2d96d719bf6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:37.654  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:37.658  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:37.687 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:37.687 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:37.687 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:37.687 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:37.688 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:37.688 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:37.689 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:37.690  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:37.690  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:37.879  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.353 seconds (JVM running for 17.169)
2020-12-02 23:19:37.883  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@468f8309, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d182ffa]; rollback [true]
2020-12-02 23:19:37.887 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:37.887 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:37.888 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:37.894 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:37.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:37.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:37.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:37.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:37.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [4]
2020-12-02 23:19:37.897 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:37.902  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@468f8309, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.372">
    <system-out><![CDATA[2020-12-02 23:19:37.914  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:37.915  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:37.915 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:37.916 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:37.917 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:37.947  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:37.948  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:38.028  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:38.036  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:38.042  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:38.053  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:495563b3-d4d8-4ce7-bc37-b2723005649b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:38.084  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:38.086  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:38.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:38.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:38.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:38.119 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:38.120 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:38.120 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:38.121 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:38.124  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:38.124  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:38.271  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.352 seconds (JVM running for 17.562)
2020-12-02 23:19:38.274  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7e4e6bdf, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@48d46169]; rollback [true]
2020-12-02 23:19:38.276 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:38.276 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:38.276 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:38.281 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:38.281 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:38.281 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:38.281 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:38.281 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:38.281 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [5]
2020-12-02 23:19:38.282 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:38.284  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7e4e6bdf, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.324">
    <system-out><![CDATA[2020-12-02 23:19:38.290  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:38.290  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:38.290 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:38.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:38.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:38.319  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:38.319  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:38.372  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:38.384  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:38.390  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:38.404  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:2f92c2b5-7f01-4e5a-b778-62bbd35695f1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:38.436  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:38.440  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:38.470 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:38.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:38.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:38.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:38.472 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:38.472 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:38.473 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:38.474  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:38.474  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:38.600  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.303 seconds (JVM running for 17.89)
2020-12-02 23:19:38.603  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@43900101, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@26443cdf]; rollback [true]
2020-12-02 23:19:38.605 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:38.605 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:38.605 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:38.608 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:38.608 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:19:38.609 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:38.609 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:38.609 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:38.609 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:38.609 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:38.611  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@43900101, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.309">
    <system-out><![CDATA[2020-12-02 23:19:38.615  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:38.615  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:38.616 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:38.616 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:38.617 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:38.643  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:38.644  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:38.688  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:38.696  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:38.701  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:38.711  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b6ce8d8d-45b0-4bde-8cf8-9eb97a515d3a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:38.743  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:38.746  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:38.771 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:38.771 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:38.772 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:38.772 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:38.773 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:38.773 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:38.774 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:38.777  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:38.777  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:38.896  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.273 seconds (JVM running for 18.186)
2020-12-02 23:19:38.900  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@aed8be, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@628be4f6]; rollback [true]
2020-12-02 23:19:38.903 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:38.904 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:38.904 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:38.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:38.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:38.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:38.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:38.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:38.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [7]
2020-12-02 23:19:38.920 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:38.923  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@aed8be, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.299">
    <system-out><![CDATA[2020-12-02 23:19:38.935  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:38.936  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:38.936 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:38.937 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:38.937 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:38.960  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:38.960  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:39.003  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:39.011  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:39.017  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:39.027  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:25d3169a-8fb9-4883-a26f-a70b578c9cfe;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:39.065  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:39.068  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:39.091 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:39.091 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:39.091 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:39.091 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:39.092 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:39.093 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:39.093 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:39.095  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:39.095  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:39.215  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.275 seconds (JVM running for 18.505)
2020-12-02 23:19:39.219  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@328dce25, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6254a37b]; rollback [true]
2020-12-02 23:19:39.221 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:39.222 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:39.222 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:39.225 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:39.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:39.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:39.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:39.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:39.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:39.226 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:39.230  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@328dce25, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPiece(Piece)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.317">
    <system-out><![CDATA[2020-12-02 23:19:39.237  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:39.237  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:39.237 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:39.238 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:39.239 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:39.276  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:39.277  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:39.334  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:39.342  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:39.347  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:39.357  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:3c24dd84-1279-4a10-9e49-0b1a4adfbc01;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:39.388  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:39.390  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:39.417 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:39.418 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:39.418 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:39.418 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:39.419 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:39.419 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:39.420 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:39.422  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:39.422  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:39.537  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.294 seconds (JVM running for 18.827)
2020-12-02 23:19:39.540  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@23e585e4, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3c18b48e]; rollback [true]
2020-12-02 23:19:39.542 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
Hibernate: select piece0_.color as color1_1_0_, piece0_.rank as rank2_1_0_, piece0_.current_count as current_3_1_0_, piece0_.max_count as max_coun4_1_0_, piece0_.version as version5_1_0_ from piece piece0_ where piece0_.color=? and piece0_.rank=?
2020-12-02 23:19:39.542 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:39.542 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:39.547 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:39.548 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:39.548 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:39.548 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:39.548 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:39.548 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [9]
2020-12-02 23:19:39.548 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:39.551  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@23e585e4, testMethod = addPiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="cantLocatePiece(Pair)" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.321">
    <error type="java.lang.NullPointerException"><![CDATA[java.lang.NullPointerException: Cannot invoke "java.util.List.isEmpty()" because "this.ranksBlue" is null
]]></error>
  </testcase>
  <testcase name="removePiece(Piece)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.32">
    <system-out><![CDATA[2020-12-02 23:19:39.566  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:39.567  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:39.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:39.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:39.568 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:39.595  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:39.595  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:39.646  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:39.654  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:39.660  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:39.670  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:7806bf8d-b2e9-48b4-a06f-e08d258870e0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:39.701  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:39.704  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:39.734 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:39.734 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:39.734 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:39.735 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:39.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:39.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:39.737 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:39.739  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:39.739  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:39.864  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.291 seconds (JVM running for 19.155)
2020-12-02 23:19:39.868  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@79ff05db, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@bc83665]; rollback [true]
2020-12-02 23:19:39.883  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@79ff05db, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.287">
    <system-out><![CDATA[2020-12-02 23:19:39.889  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:39.889  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:39.889 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:39.890 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:39.890 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:39.912  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:39.913  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:39.956  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:39.965  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:39.971  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:39.985  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:d19482d5-cc5f-49b7-ae24-bd3914f7426d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:40.020  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:40.023  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:40.046 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:40.046 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:40.046 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:40.047 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:40.047 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:40.048 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:40.049 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:40.050  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:40.050  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:40.161  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.266 seconds (JVM running for 19.452)
2020-12-02 23:19:40.166  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6ae2d1e2, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@179695c7]; rollback [true]
2020-12-02 23:19:40.173  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6ae2d1e2, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.296">
    <system-out><![CDATA[2020-12-02 23:19:40.184  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:40.185  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:40.185 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:40.186 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:40.189 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:40.208  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:40.209  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:40.267  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:40.275  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:40.281  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:40.291  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:4278c89b-789a-4e0d-ab9f-d68d200f4c6d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:40.321  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:40.323  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:40.348 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:40.348 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:40.348 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:40.348 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:40.349 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:40.349 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:40.350 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:40.351  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:40.351  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:40.465  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.271 seconds (JVM running for 19.756)
2020-12-02 23:19:40.469  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@727a8739, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@f87d95d]; rollback [true]
2020-12-02 23:19:40.477  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@727a8739, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.31">
    <system-out><![CDATA[2020-12-02 23:19:40.487  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:40.487  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:40.487 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:40.488 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:40.491 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:40.515  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:40.516  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:40.563  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:40.571  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:40.578  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:40.588  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:83e4f29c-1fc8-43e7-92f7-c0d9a97b7d83;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:40.618  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:40.620  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:40.643 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:40.644 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:40.644 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:40.644 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:40.645 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:40.645 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:40.645 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:40.647  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:40.647  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:40.777  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.28 seconds (JVM running for 20.068)
2020-12-02 23:19:40.781  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2420c8fc, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b45bcae]; rollback [true]
2020-12-02 23:19:40.795  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2420c8fc, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.322">
    <system-out><![CDATA[2020-12-02 23:19:40.825  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:40.825  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:40.825 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:40.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:40.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:40.846  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:40.847  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:40.918  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:40.933  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:40.941  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:40.956  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:f9eaff93-3a50-477d-bfc1-bcf467dc923d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:40.989  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:40.992  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:41.021 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.021 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.021 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:41.022 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:41.022 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:41.023 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:41.023 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:41.024  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:41.024  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:41.135  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.306 seconds (JVM running for 20.426)
2020-12-02 23:19:41.138  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3481bc44, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da51e86]; rollback [true]
2020-12-02 23:19:41.144  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3481bc44, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.283">
    <system-out><![CDATA[2020-12-02 23:19:41.148  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:41.148  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:41.148 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.148 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.149 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:41.168  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:41.169  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:41.227  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:41.236  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:41.241  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:41.251  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0cc40925-f7be-4ed5-9ee6-1e329c1d2df3;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:41.279  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:41.282  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:41.302 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.302 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.302 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:41.302 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:41.303 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:41.304 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:41.304 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:41.306  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:41.306  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:41.418  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.266 seconds (JVM running for 20.708)
2020-12-02 23:19:41.421  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@79d0d204, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1dafed7b]; rollback [true]
2020-12-02 23:19:41.429  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@79d0d204, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.316">
    <system-out><![CDATA[2020-12-02 23:19:41.439  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:41.439  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:41.439 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.441 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.442 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:41.468  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:41.469  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:41.523  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:41.531  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:41.536  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:41.546  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:5bc29121-45d0-4d70-94c3-d41487cc453b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:41.578  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:41.581  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:41.608 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.609 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.609 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:41.609 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:41.610 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:41.610 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:41.611 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:41.612  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:41.613  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:41.739  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.294 seconds (JVM running for 21.03)
2020-12-02 23:19:41.742  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@46130ef3, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7e0bcdeb]; rollback [true]
2020-12-02 23:19:41.748  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@46130ef3, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.303">
    <system-out><![CDATA[2020-12-02 23:19:41.757  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:41.757  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:41.757 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.758 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.758 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:41.778  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:41.778  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:41.824  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:41.834  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:41.838  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:41.849  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:3dc2f38f-8a5b-45fe-8b9c-98ec2ff69299;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:41.887  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:41.890  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:41.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:41.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:41.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:41.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:41.920 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:41.921 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:41.921 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:41.923  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:41.924  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.045  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.283 seconds (JVM running for 21.335)
2020-12-02 23:19:42.048  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3df9ddf, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6f25b5e8]; rollback [true]
2020-12-02 23:19:42.058  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3df9ddf, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.3">
    <system-out><![CDATA[2020-12-02 23:19:42.061  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.061  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:42.061 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.062 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.062 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:42.093  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:42.093  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:42.141  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:42.149  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:42.153  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:42.163  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b000ae39-9e20-4e7e-90c2-43fe3da84ae4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:42.193  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:42.196  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:42.217 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.217 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.217 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:42.217 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:42.218 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:42.218 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:42.219 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:42.220  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:42.220  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.341  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.276 seconds (JVM running for 21.632)
2020-12-02 23:19:42.346  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4e003f28, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6db1e92d]; rollback [true]
2020-12-02 23:19:42.359  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4e003f28, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removePiece(Piece)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.294">
    <system-out><![CDATA[2020-12-02 23:19:42.371  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.372  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:42.372 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:42.402  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:42.403  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:42.444  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:42.451  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:42.457  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:42.466  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0afb5a0d-b7d2-4fb7-beda-a88ffc212b57;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:42.495  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:42.498  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:42.522 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.523 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.523 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:42.523 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:42.524 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:42.524 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:42.525 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:42.527  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:42.527  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.648  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.272 seconds (JVM running for 21.939)
2020-12-02 23:19:42.654  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@13ad634b, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4e9b3fbb]; rollback [true]
2020-12-02 23:19:42.663  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@13ad634b, testMethod = removePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.295">
    <system-out><![CDATA[2020-12-02 23:19:42.683  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.683  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:42.683 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.684 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.684 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:42.700  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:42.701  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:42.743  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:42.751  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:42.756  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:42.766  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:9a25409b-80a8-4717-980a-00afb1525b31;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:42.803  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:42.806  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:42.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:42.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:42.827 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:42.827 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:42.828 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:42.829  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:42.829  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.934  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.246 seconds (JVM running for 22.225)
2020-12-02 23:19:42.939  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4008aa8e, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2f125107]; rollback [true]
2020-12-02 23:19:42.960 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:42.960 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:42.960 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:42.960 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:42.960 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:42.960 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:42.961 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:42.961 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:42.961 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:42.961 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:42.961 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [7]
2020-12-02 23:19:42.961 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [10]
2020-12-02 23:19:42.962 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:42.962 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:42.962 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:42.976  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4008aa8e, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.329">
    <system-out><![CDATA[2020-12-02 23:19:42.983  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:42.984  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:42.984 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:42.987 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:42.989 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:43.019  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:43.020  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:43.077  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:43.087  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:43.095  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:43.106  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:01198afb-6e57-414c-b139-3aacf5de07b0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:43.136  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:43.138  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:43.158 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:43.158 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:43.158 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:43.158 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:43.159 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:43.159 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:43.160 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:43.161  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:43.162  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:43.293  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.301 seconds (JVM running for 22.583)
2020-12-02 23:19:43.297  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1c31eec5, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@be57341]; rollback [true]
2020-12-02 23:19:43.303 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:43.303 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:43.304 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:43.304 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:43.304 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:43.304 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:19:43.305 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:43.305 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:43.305 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:43.305 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:43.305 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [8]
2020-12-02 23:19:43.305 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:43.306 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:43.306 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:43.306 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:43.309  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1c31eec5, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.283">
    <system-out><![CDATA[2020-12-02 23:19:43.312  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:43.312  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:43.312 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:43.313 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:43.313 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:43.334  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:43.335  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:43.383  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:43.392  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:43.397  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:43.408  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:18f5e416-0487-41cf-9acd-e357dc86fdee;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:43.440  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:43.443  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:43.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:43.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:43.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:43.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:43.464 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:43.464 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:43.464 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:43.465  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:43.466  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:43.576  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.26 seconds (JVM running for 22.867)
2020-12-02 23:19:43.581  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3544563b, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@207594db]; rollback [true]
2020-12-02 23:19:43.587 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:43.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:43.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:43.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:43.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:43.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:43.588 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:43.588 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:43.588 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:43.588 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:43.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:43.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:19:43.589 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:43.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:43.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:43.593  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3544563b, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.39">
    <system-out><![CDATA[2020-12-02 23:19:43.597  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:43.597  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:43.597 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:43.598 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:43.598 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:43.633  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:43.633  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:43.680  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:43.688  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:43.693  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:43.712  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:bb886194-85c5-47d2-bfe2-4a56fa14d738;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:43.754  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:43.757  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:43.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:43.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:43.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:43.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:43.784 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:43.785 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:43.785 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:43.787  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:43.787  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:43.972  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.371 seconds (JVM running for 23.263)
2020-12-02 23:19:43.975  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@58b1f6b6, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@50ebfc4f]; rollback [true]
2020-12-02 23:19:43.980 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:43.980 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
2020-12-02 23:19:43.980 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:43.980 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:43.980 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:43.980 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:43.981 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:43.981 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:43.981 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:43.981 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:43.981 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [9]
2020-12-02 23:19:43.981 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [7]
2020-12-02 23:19:43.981 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:43.982 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:43.982 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:43.985  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@58b1f6b6, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.306">
    <system-out><![CDATA[2020-12-02 23:19:43.991  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:43.991  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:43.991 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:43.992 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:43.994 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:44.026  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:44.026  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:44.086  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:44.093  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:44.098  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:44.107  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:cbc9fc45-cbc1-4b11-afc2-fe37a1782d7b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:44.137  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:44.140  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:44.162 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:44.163 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:44.163 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:44.163 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:44.163 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:44.164 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:44.164 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:44.166  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:44.166  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:44.275  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.277 seconds (JVM running for 23.566)
2020-12-02 23:19:44.280  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@28132c9, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6bbdff76]; rollback [true]
2020-12-02 23:19:44.287 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:44.288 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:44.288 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:44.288 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:44.288 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:44.288 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:44.289 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:44.289 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:44.290 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:44.290 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:44.290 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [6]
2020-12-02 23:19:44.290 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [9]
2020-12-02 23:19:44.290 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:44.291 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:44.291 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:44.294  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@28132c9, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.315">
    <system-out><![CDATA[2020-12-02 23:19:44.301  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:44.301  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:44.301 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:44.303 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:44.304 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:44.327  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:44.328  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:44.370  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:44.378  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:44.383  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:44.393  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:65c3c695-879b-49b1-8d28-1ea106a7ab6b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:44.429  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:44.431  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:44.455 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:44.455 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:44.455 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:44.455 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:44.456 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:44.456 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:44.456 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:44.458  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:44.458  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:44.595  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.286 seconds (JVM running for 23.886)
2020-12-02 23:19:44.601  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@78acdf28, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@55b3da15]; rollback [true]
2020-12-02 23:19:44.606 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:44.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:44.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:44.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:44.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:44.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [9]
2020-12-02 23:19:44.608 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:44.608 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:44.608 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:44.608 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:44.608 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [5]
2020-12-02 23:19:44.608 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:44.609 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:44.609 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:44.610 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:44.613  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@78acdf28, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.291">
    <system-out><![CDATA[2020-12-02 23:19:44.618  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:44.618  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:44.618 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:44.619 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:44.619 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:44.645  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:44.646  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:44.692  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:44.700  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:44.706  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:44.717  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:70e3f2f2-a3be-4e9d-8d54-6599686c4cf7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:44.753  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:44.756  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:44.778 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:44.779 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:44.779 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:44.779 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:44.779 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:44.780 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:44.780 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:44.781  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:44.782  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:44.890  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.267 seconds (JVM running for 24.181)
2020-12-02 23:19:44.895  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4624481c, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@28ded85d]; rollback [true]
2020-12-02 23:19:44.900 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:44.900 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:44.900 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:44.900 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:44.900 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:44.900 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:44.901 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:44.902 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:44.902 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:44.902 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:44.902 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [2]
2020-12-02 23:19:44.902 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [5]
2020-12-02 23:19:44.903 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:44.903 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:44.903 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:44.905  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4624481c, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.318">
    <system-out><![CDATA[2020-12-02 23:19:44.912  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:44.912  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:44.912 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:44.913 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:44.913 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:44.941  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:44.942  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:44.998  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:45.010  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:45.016  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:45.030  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:19a7be2e-e26c-4c50-8776-6d65e04145a7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:45.062  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:45.064  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:45.092 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:45.092 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:45.092 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:45.092 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:45.093 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:45.094 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:45.094 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:45.096  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:45.096  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:45.212  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.295 seconds (JVM running for 24.503)
2020-12-02 23:19:45.217  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@10e7229c, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@51c15fdf]; rollback [true]
2020-12-02 23:19:45.224 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:45.224 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:45.224 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:45.224 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:45.224 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:45.224 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:45.225 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:45.225 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:45.225 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:45.225 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:45.225 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:45.225 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:19:45.226 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:45.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:45.226 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:45.228  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@10e7229c, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.405">
    <system-out><![CDATA[2020-12-02 23:19:45.233  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:45.233  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:45.234 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:45.235 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:45.235 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:45.274  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:45.275  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:45.353  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:45.363  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:45.368  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:45.383  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:5532df0c-f370-4dc1-88f0-bfdb759626e3;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:45.426  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:45.429  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:45.477 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:45.478 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:45.478 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:45.478 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:45.479 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:45.480 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:45.480 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:45.482  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:45.482  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:45.621  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.381 seconds (JVM running for 24.912)
2020-12-02 23:19:45.626  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6c22b54e, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4567f7d8]; rollback [true]
2020-12-02 23:19:45.631 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:45.632 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:45.632 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:45.632 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:45.632 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:45.632 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:45.632 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [8]
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:45.633 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:45.633 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:45.636  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6c22b54e, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="placePiece(Location)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.282">
    <system-out><![CDATA[2020-12-02 23:19:45.638  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:45.639  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:45.639 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:45.639 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:45.639 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:45.658  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:45.658  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:45.702  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:45.709  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:45.715  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:45.725  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:c8bdee35-9faa-4557-9b83-da64c0aa4a4d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:45.762  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:45.766  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:45.786 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:45.786 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:45.786 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:45.787 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:45.787 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:45.788 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:45.788 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:45.789  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:45.789  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:45.901  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.259 seconds (JVM running for 25.192)
2020-12-02 23:19:45.905  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@27610e5a, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@e7a353a]; rollback [true]
2020-12-02 23:19:45.912 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:45.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:45.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:45.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:45.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:45.913 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [7]
2020-12-02 23:19:45.913 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:45.913 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:45.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:45.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:45.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [7]
2020-12-02 23:19:45.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:45.914 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_ where location0_.piece_color=? and location0_.piece_rank=?
2020-12-02 23:19:45.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:45.915 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:45.919  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@27610e5a, testMethod = placePiece@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.292">
    <system-out><![CDATA[2020-12-02 23:19:45.924  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:45.925  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:45.925 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:45.926 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:45.926 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:45.951  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:45.952  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:45.994  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:46.001  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:46.005  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:46.016  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b803abf6-672f-47b1-8605-26122ea057a4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:46.063  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:46.066  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:46.086 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:46.087 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:46.087 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:46.087 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:46.087 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:46.088 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:46.088 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:46.089  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:46.089  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:46.195  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.266 seconds (JVM running for 25.486)
2020-12-02 23:19:46.200  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6e57680b, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4bb8a22d]; rollback [true]
2020-12-02 23:19:46.203 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.203 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:46.205 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.206 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:46.209 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.209 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:46.210 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.210 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:46.210 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.210 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:46.211 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.211 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:46.211 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.211 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:46.212 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.213 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:46.214  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6e57680b, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.286">
    <system-out><![CDATA[2020-12-02 23:19:46.229  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:46.229  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:46.230 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:46.230 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:46.231 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:46.258  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:46.259  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:46.304  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:46.313  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:46.317  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:46.328  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:7c55c401-ec5a-4b05-a1e0-17002e11ecaa;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:46.360  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:46.363  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:46.384 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:46.384 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:46.384 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:46.384 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:46.385 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:46.386 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:46.386 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:46.388  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:46.388  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:46.497  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.263 seconds (JVM running for 25.788)
2020-12-02 23:19:46.500  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4203bb7, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@700e897f]; rollback [true]
2020-12-02 23:19:46.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:46.504 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.505 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:46.505 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.505 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:46.506 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:46.507 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:46.507 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:46.508 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.508 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:46.509 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.509 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:46.512  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4203bb7, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.318">
    <system-out><![CDATA[2020-12-02 23:19:46.519  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:46.525  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:46.525 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:46.526 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:46.526 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:46.559  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:46.559  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:46.604  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:46.612  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:46.617  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:46.627  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:f740e42b-b109-4366-b7fd-fccd126ae5d7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:46.656  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:46.659  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:46.679 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:46.679 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:46.679 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:46.680 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:46.680 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:46.681 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:46.681 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:46.682  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:46.682  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:46.817  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.286 seconds (JVM running for 26.108)
2020-12-02 23:19:46.820  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3916a5bf, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43da1491]; rollback [true]
2020-12-02 23:19:46.823 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.824 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:46.825 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.826 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:46.827 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.828 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:46.829 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.829 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:46.829 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.830 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:46.830 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.830 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:46.831 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:46.831 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:46.832 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:46.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:46.835  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3916a5bf, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.293">
    <system-out><![CDATA[2020-12-02 23:19:46.844  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:46.844  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:46.844 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:46.846 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:46.846 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:46.869  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:46.869  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:46.918  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:46.927  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:46.933  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:46.943  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:8062500f-971a-4218-9094-21bb7133e7ea;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:46.981  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:46.984  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:47.005 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:47.005 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:47.005 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:47.005 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:47.006 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:47.006 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:47.006 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:47.007  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:47.008  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:47.115  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.265 seconds (JVM running for 26.406)
2020-12-02 23:19:47.120  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5703b77b, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5c72ea80]; rollback [true]
2020-12-02 23:19:47.122 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.123 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:47.125 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.125 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:47.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.126 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:47.127 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.127 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:47.128 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.128 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:47.129 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.130 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:47.130 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.130 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:47.131 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.131 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:47.133  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5703b77b, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.285">
    <system-out><![CDATA[2020-12-02 23:19:47.137  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:47.137  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:47.137 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:47.137 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:47.137 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:47.166  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:47.166  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:47.209  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:47.217  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:47.222  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:47.236  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:6892d219-6112-41ad-9c0e-d1285d453422;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:47.267  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:47.270  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:47.290 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:47.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:47.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:47.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:47.292 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:47.292 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:47.292 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:47.293  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:47.294  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:47.405  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.261 seconds (JVM running for 26.695)
2020-12-02 23:19:47.409  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@569a0501, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1d120fb2]; rollback [true]
2020-12-02 23:19:47.411 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.412 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:47.413 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.414 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:47.414 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.414 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:47.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.415 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:47.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.415 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:47.416 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.416 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:47.417 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.417 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:47.417 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.417 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:47.420  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@569a0501, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.397">
    <system-out><![CDATA[2020-12-02 23:19:47.426  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:47.426  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:47.426 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:47.427 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:47.427 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:47.470  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:47.471  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:47.526  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:47.539  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:47.546  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:47.563  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:23f80847-e916-452e-8233-050873a408b1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:47.612  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:47.616  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:47.649 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:47.649 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:47.650 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:47.650 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:47.651 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:47.652 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:47.652 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:47.655  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:47.656  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:47.807  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.372 seconds (JVM running for 27.098)
2020-12-02 23:19:47.810  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5028339c, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1a1f0a6b]; rollback [true]
2020-12-02 23:19:47.812 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.813 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:47.814 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.814 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:47.815 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.815 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:47.816 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.816 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:47.817 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.817 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:47.817 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.817 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:47.818 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:47.818 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:47.819 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:47.819 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:47.821  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5028339c, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.394">
    <system-out><![CDATA[2020-12-02 23:19:47.837  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:47.838  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:47.838 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:47.838 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:47.838 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:47.869  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:47.869  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:47.928  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:47.940  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:47.947  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:47.961  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:4c247306-57d9-43ae-b677-fd8c929ff051;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:48.006  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:48.010  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:48.046 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:48.046 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:48.046 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:48.047 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:48.048 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:48.049 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:48.050 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:48.053  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:48.054  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:48.204  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.363 seconds (JVM running for 27.495)
2020-12-02 23:19:48.207  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5aba9e8a, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6773cb0e]; rollback [true]
2020-12-02 23:19:48.209 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.217 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:48.218 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:48.219 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:48.220 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:48.221 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:48.221 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.222 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:48.222 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.222 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:48.223 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.223 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:48.225  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5aba9e8a, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.323">
    <system-out><![CDATA[2020-12-02 23:19:48.268  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:48.268  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:48.268 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:48.268 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:48.269 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:48.283  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:48.284  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:48.346  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:48.359  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:48.366  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:48.378  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:da114f47-8027-41c6-b730-1be027cc1a0a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:48.407  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:48.410  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:48.428 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:48.428 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:48.428 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:48.428 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:48.429 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:48.429 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:48.429 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:48.431  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:48.431  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:48.548  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.277 seconds (JVM running for 27.839)
2020-12-02 23:19:48.551  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@471e899c, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ef14401]; rollback [true]
2020-12-02 23:19:48.552 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:48.554 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:48.555 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.555 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:48.555 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.555 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:48.556 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:48.556 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:48.557 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:48.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:48.560  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@471e899c, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.32">
    <system-out><![CDATA[2020-12-02 23:19:48.565  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:48.567  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:48.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:48.569 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:48.569 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:48.609  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:48.610  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:48.650  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:48.658  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:48.663  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:48.674  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:c3baa27d-abdb-4aad-877a-89303ed74d05;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:48.703  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:48.707  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:48.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:48.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:48.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:48.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:48.737 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:48.738 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:48.738 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:48.740  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:48.740  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:48.870  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.297 seconds (JVM running for 28.161)
2020-12-02 23:19:48.874  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@68380559, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@40d6564b]; rollback [true]
2020-12-02 23:19:48.876 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.877 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:48.878 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.878 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:48.879 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.880 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:48.880 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.880 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:48.881 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.881 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:48.881 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.881 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:48.882 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:48.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:48.882 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:48.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:48.883  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@68380559, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_red(List)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.263">
    <system-out><![CDATA[2020-12-02 23:19:48.887  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:48.887  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:48.887 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:48.887 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:48.888 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:48.909  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:48.909  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:48.955  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:48.964  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:48.969  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:48.978  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0a0259c4-1087-4074-b830-2ad367bd7821;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:49.016  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:49.018  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:49.037 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.038 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.038 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:49.038 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:49.039 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:49.039 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:49.039 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:49.041  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:49.041  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:49.132  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.24 seconds (JVM running for 28.423)
2020-12-02 23:19:49.136  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3e7a7ab8, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@32484904]; rollback [true]
2020-12-02 23:19:49.137 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:49.138 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:49.140 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:49.140 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.141 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:49.141 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.142 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:49.142 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:49.143 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:49.143 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:49.143 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:49.144 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:49.145 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:49.145 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:49.146 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:49.146 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:49.148  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3e7a7ab8, testMethod = isGameOver_red@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.317">
    <system-out><![CDATA[2020-12-02 23:19:49.153  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:49.153  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:49.153 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.154 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.155 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:49.178  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:49.179  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:49.230  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:49.238  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:49.242  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:49.253  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:7520ded0-45c3-4b66-8397-b61599a8e999;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:49.287  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:49.290  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:49.310 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.310 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.310 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:49.310 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:49.311 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:49.311 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:49.312 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:49.313  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:49.313  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:49.435  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.276 seconds (JVM running for 28.726)
2020-12-02 23:19:49.439  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4f3a622b, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69262cc2]; rollback [true]
2020-12-02 23:19:49.446 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.446 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
2020-12-02 23:19:49.446 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:49.446 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.446 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.446 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:19:49.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:49.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [5]
2020-12-02 23:19:49.448 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:49.448 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:49.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:49.449 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.449 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.449 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [10]
2020-12-02 23:19:49.449 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:49.452 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.453 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.454 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:49.454 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.454 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.454 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:19:49.454 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.459 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.459 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.459 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:49.459 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.459 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.459 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:49.459 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.460 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.460 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.460 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:49.460 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.460 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.460 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [5]
2020-12-02 23:19:49.460 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.461 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:49.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:49.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.461 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:49.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [10]
2020-12-02 23:19:49.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.462 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:49.467  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4f3a622b, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.32">
    <system-out><![CDATA[2020-12-02 23:19:49.471  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:49.471  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:49.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.472 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:49.493  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:49.494  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:49.575  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:49.583  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:49.589  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:49.599  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:211863fc-8e28-43f3-967c-a3f0bed83cbd;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:49.629  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:49.632  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:49.652 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.653 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.653 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:49.653 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:49.654 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:49.654 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:49.655 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:49.656  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:49.656  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:49.766  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.291 seconds (JVM running for 29.057)
2020-12-02 23:19:49.769  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@59a59c13, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7e565a45]; rollback [true]
2020-12-02 23:19:49.775 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.775 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:49.775 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:49.775 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.775 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [17]
2020-12-02 23:19:49.776 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:49.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:49.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [19]
2020-12-02 23:19:49.777 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:19:49.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:49.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [21]
2020-12-02 23:19:49.778 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [12]
2020-12-02 23:19:49.778 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:49.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:19:49.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:49.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:49.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [14]
2020-12-02 23:19:49.779 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:49.781 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [17]
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.782 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [19]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:49.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.784 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.784 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [21]
2020-12-02 23:19:49.784 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.784 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [12]
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.785 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:49.785 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:49.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:49.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:49.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:49.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [14]
2020-12-02 23:19:49.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:49.786 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:49.789  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@59a59c13, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.288">
    <system-out><![CDATA[2020-12-02 23:19:49.797  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:49.797  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:49.797 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.798 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.798 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:49.818  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:49.818  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:49.866  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:49.874  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:49.878  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:49.888  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:fbb1cced-699d-4ca3-aa37-5feddde56535;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:49.919  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:49.923  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:49.945 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:49.945 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:49.945 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:49.945 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:49.946 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:49.946 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:49.947 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:49.948  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:49.948  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:50.056  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.255 seconds (JVM running for 29.347)
2020-12-02 23:19:50.061  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1f09e50f, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69acd2d1]; rollback [true]
2020-12-02 23:19:50.069 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.069 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:50.069 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:50.069 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.069 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.069 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [22]
2020-12-02 23:19:50.069 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [24]
2020-12-02 23:19:50.070 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.070 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [29]
2020-12-02 23:19:50.071 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [30]
2020-12-02 23:19:50.071 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.071 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [31]
2020-12-02 23:19:50.071 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:50.074 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.074 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.075 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:50.075 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.075 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.075 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [22]
2020-12-02 23:19:50.075 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.076 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.076 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.076 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.076 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.076 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.076 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [24]
2020-12-02 23:19:50.076 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.077 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.078 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.078 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:50.078 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.078 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.078 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [29]
2020-12-02 23:19:50.078 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.079 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.079 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.079 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:50.079 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.079 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.079 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [30]
2020-12-02 23:19:50.079 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.080 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.080 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.080 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.080 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.080 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:50.080 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [31]
2020-12-02 23:19:50.080 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.081 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:50.083  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1f09e50f, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.301">
    <system-out><![CDATA[2020-12-02 23:19:50.097  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:50.098  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:50.098 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:50.107 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:50.108 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:50.134  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:50.134  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:50.176  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:50.185  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:50.192  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:50.204  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:93d9ff3b-21ad-4c66-93a3-9d789909ee07;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:50.235  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:50.238  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:50.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:50.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:50.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:50.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:50.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:50.261 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:50.261 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:50.262  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:50.262  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:50.367  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.255 seconds (JVM running for 29.659)
2020-12-02 23:19:50.370  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@44ce834a, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7d9041b3]; rollback [true]
2020-12-02 23:19:50.379 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.379 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:50.379 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.379 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.379 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.380 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [34]
2020-12-02 23:19:50.380 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.380 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:50.380 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.380 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [39]
2020-12-02 23:19:50.381 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.381 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [41]
2020-12-02 23:19:50.382 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.382 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:50.382 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.382 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.382 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.382 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [42]
2020-12-02 23:19:50.383 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:50.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:50.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.384 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.384 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [43]
2020-12-02 23:19:50.384 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:50.386 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.386 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.386 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.386 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.386 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.386 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [34]
2020-12-02 23:19:50.386 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.387 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.387 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.387 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.387 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.387 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.388 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [39]
2020-12-02 23:19:50.388 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.388 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.388 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.388 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.388 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.388 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [41]
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.389 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.389 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [42]
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.390 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [43]
2020-12-02 23:19:50.390 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.391 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:50.393  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@44ce834a, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.395">
    <system-out><![CDATA[2020-12-02 23:19:50.400  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:50.400  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:50.400 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:50.400 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:50.400 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:50.421  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:50.422  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:50.478  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:50.486  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:50.490  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:50.499  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b750e5be-b260-4f36-a0bd-00aa572f28fb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:50.550  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:50.555  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:50.584 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:50.585 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:50.585 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:50.585 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:50.586 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:50.587 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:50.587 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:50.589  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:50.589  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:50.768  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.365 seconds (JVM running for 30.059)
2020-12-02 23:19:50.772  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@28e80f89, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3439376f]; rollback [true]
2020-12-02 23:19:50.778 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:50.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.779 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [51]
2020-12-02 23:19:50.781 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [52]
2020-12-02 23:19:50.781 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:50.781 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [53]
2020-12-02 23:19:50.782 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [44]
2020-12-02 23:19:50.782 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:19:50.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:50.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:50.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.783 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [47]
2020-12-02 23:19:50.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:50.785 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [51]
2020-12-02 23:19:50.786 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.786 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.787 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.787 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:50.787 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.787 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.787 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [52]
2020-12-02 23:19:50.787 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.787 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [53]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.788 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:50.788 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.789 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.789 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [44]
2020-12-02 23:19:50.789 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.789 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:50.789 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:50.789 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:50.790 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:50.790 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:50.790 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [47]
2020-12-02 23:19:50.790 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:50.790 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:50.793  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@28e80f89, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.328">
    <system-out><![CDATA[2020-12-02 23:19:50.799  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:50.799  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:50.799 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:50.800 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:50.800 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:50.870  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:50.870  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:50.910  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:50.918  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:50.922  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:50.932  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:acab5964-a5d1-4d01-88a3-3361dae44b55;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:50.959  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:50.962  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:50.984 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:50.984 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:50.984 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:50.984 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:50.985 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:50.985 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:50.985 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:50.987  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:50.987  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:51.101  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.298 seconds (JVM running for 30.392)
2020-12-02 23:19:51.105  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3fc35891, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2287a118]; rollback [true]
2020-12-02 23:19:51.110 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.110 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:51.111 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:51.111 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.111 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.111 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [65]
2020-12-02 23:19:51.112 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [55]
2020-12-02 23:19:51.112 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.112 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [57]
2020-12-02 23:19:51.113 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [58]
2020-12-02 23:19:51.113 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.113 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.114 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [63]
2020-12-02 23:19:51.114 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:51.116 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.117 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.117 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:51.117 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.117 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [65]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [55]
2020-12-02 23:19:51.118 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.119 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.119 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [57]
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.120 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.120 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [58]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.121 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.121 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [63]
2020-12-02 23:19:51.122 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.122 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:51.125  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3fc35891, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.338">
    <system-out><![CDATA[2020-12-02 23:19:51.135  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:51.135  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:51.135 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:51.135 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:51.135 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:51.158  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:51.159  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:51.256  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:51.269  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:51.273  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:51.285  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:143035e3-f7d3-4078-8db8-cd4f77f098a7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:51.314  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:51.316  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:51.337 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:51.337 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:51.337 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:51.337 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:51.338 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:51.338 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:51.339 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:51.340  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:51.340  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:51.455  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.316 seconds (JVM running for 30.746)
2020-12-02 23:19:51.457  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1695e64b, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ad331cb]; rollback [true]
2020-12-02 23:19:51.461 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:19:51.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:51.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.461 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [66]
2020-12-02 23:19:51.462 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:51.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:51.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.462 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [69]
2020-12-02 23:19:51.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [70]
2020-12-02 23:19:51.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [72]
2020-12-02 23:19:51.463 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.463 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [74]
2020-12-02 23:19:51.464 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:51.465 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.465 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.465 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [66]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.466 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.466 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [69]
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.467 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [70]
2020-12-02 23:19:51.467 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.468 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [72]
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.468 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.468 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:51.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:51.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [74]
2020-12-02 23:19:51.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.469 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:51.471  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1695e64b, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.286">
    <system-out><![CDATA[2020-12-02 23:19:51.475  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:51.476  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:51.476 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:51.476 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:51.476 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:51.496  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:51.497  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:51.556  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:51.563  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:51.568  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:51.577  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:273a4d85-3972-4e78-9ae9-9d9ccbd56824;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:51.606  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:51.609  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:51.630 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:51.630 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:51.630 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:51.630 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:51.631 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:51.631 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:51.631 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:51.632  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:51.632  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:51.738  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.259 seconds (JVM running for 31.029)
2020-12-02 23:19:51.741  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@da5ceeb, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@55358d2a]; rollback [true]
2020-12-02 23:19:51.746 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.746 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:51.746 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:51.746 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.747 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.747 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [83]
2020-12-02 23:19:51.747 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.748 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:51.748 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.748 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.748 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.748 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [84]
2020-12-02 23:19:51.749 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [85]
2020-12-02 23:19:51.749 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:51.749 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [87]
2020-12-02 23:19:51.750 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.750 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [77]
2020-12-02 23:19:51.750 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:51.752 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [83]
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.753 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.753 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [84]
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.754 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.754 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [85]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.755 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [87]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.755 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:51.755 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:51.756 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:51.756 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:51.756 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [77]
2020-12-02 23:19:51.756 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:51.756 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:51.759  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@da5ceeb, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.455">
    <system-out><![CDATA[2020-12-02 23:19:51.775  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:51.775  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:51.775 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:51.775 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:51.776 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:51.824  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:51.824  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:51.872  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:51.883  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:51.890  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:51.905  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:4bfe24fb-e11d-4c02-a23f-7142cc1f952c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:51.954  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:51.959  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:52.011 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:52.012 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:52.012 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:52.012 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:52.013 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:52.014 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:52.014 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:52.016  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:52.017  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:52.189  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.405 seconds (JVM running for 31.48)
2020-12-02 23:19:52.202  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@46d9cb65, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@27f20a4]; rollback [true]
2020-12-02 23:19:52.208 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.209 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:52.209 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:52.209 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.209 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.209 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [97]
2020-12-02 23:19:52.210 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.210 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:19:52.211 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:52.211 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.211 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.211 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [89]
2020-12-02 23:19:52.212 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.212 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:19:52.212 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:52.213 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.213 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.213 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [91]
2020-12-02 23:19:52.213 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.213 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:19:52.214 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:52.214 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.214 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.214 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [92]
2020-12-02 23:19:52.214 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.215 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:52.215 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:52.215 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.215 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.215 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [93]
2020-12-02 23:19:52.215 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:52.217 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.217 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.218 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:52.218 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.218 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.218 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [97]
2020-12-02 23:19:52.218 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.219 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [89]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.219 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [91]
2020-12-02 23:19:52.219 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.220 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:52.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [92]
2020-12-02 23:19:52.220 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.221 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:52.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:52.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [93]
2020-12-02 23:19:52.221 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.222 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:52.224  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@46d9cb65, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="reset(List)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.314">
    <system-out><![CDATA[2020-12-02 23:19:52.249  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:52.249  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:52.249 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:52.250 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:52.251 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:52.277  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:52.277  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:52.347  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:52.357  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:52.361  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:52.369  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:721173fc-e47e-4c97-a81f-3b756228ccda;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:52.398  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:52.401  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:52.424 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:52.424 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:52.424 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:52.424 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:52.425 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:52.425 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:52.425 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:52.427  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:52.427  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:52.542  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.288 seconds (JVM running for 31.833)
2020-12-02 23:19:52.545  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1b726955, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@a99f426]; rollback [true]
2020-12-02 23:19:52.552 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.552 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:19:52.552 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:52.552 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.552 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.552 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [102]
2020-12-02 23:19:52.553 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [103]
2020-12-02 23:19:52.553 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.553 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [104]
2020-12-02 23:19:52.554 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [106]
2020-12-02 23:19:52.554 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [108]
2020-12-02 23:19:52.554 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:52.556 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [102]
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.556 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [103]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.557 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [104]
2020-12-02 23:19:52.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [106]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
Hibernate: update piece set current_count=?, max_count=?, version=? where color=? and rank=? and version=?
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [108]
2020-12-02 23:19:52.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [BIGINT] - [0]
2020-12-02 23:19:52.559 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_
2020-12-02 23:19:52.561  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1b726955, testMethod = reset@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.284">
    <system-out><![CDATA[2020-12-02 23:19:52.565  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:52.565  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:52.565 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:52.566 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:52.566 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:52.584  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:52.585  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:52.645  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:52.653  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:52.658  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:52.667  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b4644ebb-be81-4a04-ae71-e4ce1aead395;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:52.697  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:52.700  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:52.719 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:52.719 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:52.719 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:52.720 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:52.720 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:52.721 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:52.721 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:52.723  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:52.723  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:52.820  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.251 seconds (JVM running for 32.111)
2020-12-02 23:19:52.822  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2cc38f40, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6b1e4394]; rollback [true]
2020-12-02 23:19:52.833 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:52.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:52.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:52.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:52.834 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:52.834 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:52.834 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:52.834 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.834 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [10]
2020-12-02 23:19:52.834 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:52.838 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:52.839 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:52.839 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:52.839 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.843 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:52.844 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:52.844 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:52.844 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:52.845 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:52.848  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2cc38f40, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.316">
    <system-out><![CDATA[2020-12-02 23:19:52.857  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:52.858  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:52.858 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:52.859 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:52.859 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:52.893  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:52.893  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:52.932  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:52.939  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:52.944  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:52.954  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:e36961a5-fa1e-4aca-86d2-8f8a17168ad3;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:52.983  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:52.988  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:53.021 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:53.022 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:53.022 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:53.022 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:53.022 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:53.023 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:53.023 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:53.025  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:53.025  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:53.142  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.277 seconds (JVM running for 32.433)
2020-12-02 23:19:53.147  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@14ad9995, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3b90a8e4]; rollback [true]
2020-12-02 23:19:53.154 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:53.154 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:53.154 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:53.155 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.155 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:53.155 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:19:53.155 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:53.155 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:53.156 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:53.156 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.156 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [6]
2020-12-02 23:19:53.156 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:19:53.156 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:53.156 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [6]
2020-12-02 23:19:53.157 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:53.157 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.157 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:53.157 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:53.157 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:53.157 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.157 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:53.160  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@14ad9995, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.385">
    <system-out><![CDATA[2020-12-02 23:19:53.208  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:53.208  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:53.208 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:53.209 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:53.209 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:53.227  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:53.227  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:53.291  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:53.302  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:53.309  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:53.329  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:808d3d8d-e757-4682-b102-1df5e7efecc5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:53.371  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:53.375  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:53.432 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:53.433 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:53.434 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:53.434 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:53.435 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:53.435 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:53.437 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:53.439  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:53.439  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:53.582  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.37 seconds (JVM running for 32.873)
2020-12-02 23:19:53.584  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@32feee78, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5f36625c]; rollback [true]
2020-12-02 23:19:53.588 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:53.589 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.589 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [10]
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:19:53.590 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.590 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:53.590 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.590 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:53.592  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@32feee78, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.305">
    <system-out><![CDATA[2020-12-02 23:19:53.600  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:53.600  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:53.600 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:53.601 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:53.601 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:53.632  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:53.632  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:53.689  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:53.697  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:53.701  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:53.711  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:ee007d74-7033-4901-b4c9-10a081837344;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:53.738  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:53.741  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:53.761 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:53.761 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:53.761 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:53.761 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:53.762 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:53.762 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:53.762 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:53.764  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:53.764  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:53.883  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.278 seconds (JVM running for 33.174)
2020-12-02 23:19:53.886  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1b981165, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6566583b]; rollback [true]
2020-12-02 23:19:53.896 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:53.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:53.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:53.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:53.896 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:19:53.897 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:53.897 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [3]
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:53.898 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:53.898 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.898 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:53.899 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:53.899 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:53.899 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:53.899 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:53.903  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1b981165, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.263">
    <system-out><![CDATA[2020-12-02 23:19:53.911  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:53.912  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:53.912 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:53.912 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:53.913 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:53.936  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:53.937  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:53.981  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:53.988  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:53.992  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:54.002  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:a2ccb395-6e6f-45cb-8b52-8af783267884;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:54.030  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:54.033  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:54.053 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:54.054 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:54.054 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:54.054 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:54.054 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:54.055 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:54.055 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:54.056  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:54.057  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:54.153  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.236 seconds (JVM running for 33.444)
2020-12-02 23:19:54.156  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5e3a3b61, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@31a7fdb2]; rollback [true]
2020-12-02 23:19:54.161 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:54.161 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:54.161 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:54.162 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.162 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:54.162 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:19:54.162 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:54.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:54.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:54.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [3]
2020-12-02 23:19:54.163 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:54.164 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:54.164 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:54.164 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:54.164 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.165 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:54.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:54.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:54.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.166 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:54.168  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5e3a3b61, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.362">
    <system-out><![CDATA[2020-12-02 23:19:54.175  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:54.176  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:54.176 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:54.177 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:54.177 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:54.210  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:54.211  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:54.260  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:54.267  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:54.272  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:54.282  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:e8ef806c-b1c9-4db8-8510-41b16531f8bf;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:54.322  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:54.325  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:54.345 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:54.345 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:54.345 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:54.345 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:54.346 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:54.346 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:54.346 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:54.347  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:54.347  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:54.517  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.335 seconds (JVM running for 33.809)
2020-12-02 23:19:54.520  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@57e15107, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7962743e]; rollback [true]
2020-12-02 23:19:54.527 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:54.528 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:54.528 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:54.528 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.528 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:19:54.528 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:54.528 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:54.529 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:54.529 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:54.529 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.529 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [3]
2020-12-02 23:19:54.529 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:19:54.529 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:54.530 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:54.530 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:54.530 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.530 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:54.530 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:54.530 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:19:54.530 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.531 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:54.533  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@57e15107, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.362">
    <system-out><![CDATA[2020-12-02 23:19:54.572  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:54.572  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:54.572 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:54.573 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:54.573 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:54.596  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:54.597  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:54.677  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:54.691  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:54.697  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:54.709  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:fdaac768-4067-40cc-83a9-087591fe6ddb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:54.768  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:54.774  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:54.820 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:54.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:54.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:54.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:54.822 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:54.824 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:54.824 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:54.826  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:54.826  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:54.921  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.345 seconds (JVM running for 34.212)
2020-12-02 23:19:54.923  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@584fdcf0, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1c63242]; rollback [true]
2020-12-02 23:19:54.929 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:54.929 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:54.929 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:54.929 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.929 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:54.929 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:19:54.930 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:54.930 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:54.930 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:54.930 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.930 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:54.930 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [10]
2020-12-02 23:19:54.930 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:54.931 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:54.931 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:54.931 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.931 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:54.931 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:54.931 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:54.931 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:54.931 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:54.933  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@584fdcf0, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.264">
    <system-out><![CDATA[2020-12-02 23:19:54.938  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:54.938  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:54.938 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:54.939 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:54.939 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:54.959  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:54.960  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:55.008  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:55.016  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:55.021  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:55.034  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:6718ca7f-5ffc-46fc-8538-63de065781a1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:55.064  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:55.066  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:55.084 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:55.084 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:55.084 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:55.084 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:55.085 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:55.085 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:55.085 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:55.086  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:55.087  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:55.180  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.238 seconds (JVM running for 34.471)
2020-12-02 23:19:55.184  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6e440a18, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1e2c87d0]; rollback [true]
2020-12-02 23:19:55.193 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:55.193 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:19:55.194 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:19:55.194 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.194 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.194 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:19:55.195 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:55.195 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.195 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:55.195 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.195 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:55.195 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [4]
2020-12-02 23:19:55.196 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:55.196 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:55.196 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:55.196 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.197 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:55.197 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.197 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:55.197 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.197 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:55.200  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6e440a18, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.27">
    <system-out><![CDATA[2020-12-02 23:19:55.205  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:55.205  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:55.205 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:55.206 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:55.207 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:55.236  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:55.236  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:55.279  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:55.287  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:55.292  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:55.304  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b6399ea4-8bfc-4978-a346-dbdd98928767;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:55.335  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:55.337  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:55.357 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:55.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:55.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:55.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:55.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:55.359 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:55.359 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:55.360  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:55.360  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:55.458  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.249 seconds (JVM running for 34.75)
2020-12-02 23:19:55.461  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3b44ffa4, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6cbbb17d]; rollback [true]
2020-12-02 23:19:55.469 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:55.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
2020-12-02 23:19:55.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:55.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.469 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [4]
2020-12-02 23:19:55.470 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:55.470 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.470 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:55.470 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.470 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [9]
2020-12-02 23:19:55.470 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [9]
2020-12-02 23:19:55.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:55.471 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:19:55.471 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:19:55.471 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.471 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:55.471 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.471 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:55.472 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.472 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:55.474  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3b44ffa4, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="removeLocation(Location)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.424">
    <system-out><![CDATA[2020-12-02 23:19:55.506  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:55.506  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:55.506 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:55.507 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:55.507 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:55.533  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:55.533  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:55.590  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:55.613  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:55.619  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:55.638  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:00fbd117-e31e-4a22-a320-db36c30b7932;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:55.687  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:55.691  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:55.732 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:55.733 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:55.733 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:55.733 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:55.734 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:55.734 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:55.734 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:55.736  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:55.736  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:55.899  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.388 seconds (JVM running for 35.19)
2020-12-02 23:19:55.903  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@137eefdd, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@498b9b77]; rollback [true]
2020-12-02 23:19:55.910 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:55.910 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [2]
2020-12-02 23:19:55.910 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:19:55.910 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.910 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.911 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [4]
2020-12-02 23:19:55.912 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:55.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:55.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [5]
2020-12-02 23:19:55.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:19:55.913 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from location where piece_col=? and piece_row=? and version=?
Hibernate: delete from location where piece_col=? and piece_row=? and version=?
2020-12-02 23:19:55.913 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:19:55.913 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:55.913 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.914 DEBUG 43721 --- [           main] org.hibernate.SQL                        : delete from piece where color=? and rank=? and version=?
Hibernate: delete from piece where color=? and rank=? and version=?
2020-12-02 23:19:55.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:55.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:55.914 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:55.914 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:55.916  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@137eefdd, testMethod = removeLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.351">
    <system-out><![CDATA[2020-12-02 23:19:55.939  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:55.939  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:55.939 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:55.940 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:55.940 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:55.967  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:55.967  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:56.022  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:56.035  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:56.041  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:56.051  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:03438562-8df7-459c-92ed-f09a1994786e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:56.088  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:56.092  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:56.124 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:56.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:56.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:56.130 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:56.132 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:56.132 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:56.133 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:56.134  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:56.135  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:56.265  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.315 seconds (JVM running for 35.556)
2020-12-02 23:19:56.268  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6ef96878, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@61e53cc0]; rollback [true]
2020-12-02 23:19:56.270 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.271 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:56.272 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.272 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:56.273 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.273 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:56.273 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.273 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:56.274 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.274 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:56.274 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.274 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:56.275 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.275 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:56.275 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.276 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:56.278  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6ef96878, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.281">
    <system-out><![CDATA[2020-12-02 23:19:56.283  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:56.283  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:56.283 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:56.284 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:56.284 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:56.305  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:56.306  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:56.362  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:56.374  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:56.383  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:56.397  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:ff4831b0-9ef4-4efd-a78d-6d7be050602d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:56.426  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:56.428  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:56.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:56.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:56.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:56.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:56.447 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:56.448 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:56.448 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:56.449  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:56.449  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:56.548  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.262 seconds (JVM running for 35.84)
2020-12-02 23:19:56.552  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2d771195, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@20f92b24]; rollback [true]
2020-12-02 23:19:56.554 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.554 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:56.556 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.556 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:56.556 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:56.557 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.557 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:56.557 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:56.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.558 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:56.559 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.559 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:56.560 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.560 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:56.563  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2d771195, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.276">
    <system-out><![CDATA[2020-12-02 23:19:56.566  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:56.566  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:56.566 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:56.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:56.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:56.590  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:56.591  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:56.635  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:56.646  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:56.651  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:56.662  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:ace34ebf-82dc-4463-ae3f-acc9384612c4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:56.692  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:56.694  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:56.712 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:56.712 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:56.713 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:56.713 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:56.713 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:56.713 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:56.713 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:56.714  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:56.714  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:56.824  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.254 seconds (JVM running for 36.115)
2020-12-02 23:19:56.828  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1e338a3b, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5c2d4bc8]; rollback [true]
2020-12-02 23:19:56.830 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.830 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:56.832 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:56.833 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:56.834 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.834 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:56.835 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.835 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:56.836 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.836 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:56.836 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:56.837 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:56.837 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:56.838 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:56.840  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1e338a3b, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.46">
    <system-out><![CDATA[2020-12-02 23:19:56.861  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:56.861  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:56.861 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:56.862 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:56.863 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:56.901  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:56.901  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:56.980  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:56.992  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:56.999  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:57.016  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:02299620-0149-4265-91ac-4e35c0a542d7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:57.096  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:57.101  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:57.141 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:57.142 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:57.142 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:57.142 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:57.143 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:57.144 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:57.144 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:57.146  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:57.146  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:57.297  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.428 seconds (JVM running for 36.589)
2020-12-02 23:19:57.301  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@14844d2b, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@789fe243]; rollback [true]
2020-12-02 23:19:57.304 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.304 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:57.306 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.306 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:57.307 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.307 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:57.308 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.308 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:57.308 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.308 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:57.309 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.309 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:57.309 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.309 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:57.310 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.310 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:57.312  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@14844d2b, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.323">
    <system-out><![CDATA[2020-12-02 23:19:57.320  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:57.320  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:57.321 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:57.321 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:57.321 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:57.364  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:57.364  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:57.419  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:57.427  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:57.431  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:57.441  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:49fdfece-dd0a-4d46-b0b3-982bfff700b0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:57.471  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:57.475  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:57.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:57.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:57.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:57.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:57.503 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:57.503 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:57.504 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:57.506  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:57.506  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:57.628  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.303 seconds (JVM running for 36.919)
2020-12-02 23:19:57.632  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@37d9c317, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6c2b9d89]; rollback [true]
2020-12-02 23:19:57.634 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.635 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:57.636 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.636 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:57.636 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.636 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:57.637 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.637 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:57.637 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.638 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:57.638 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.638 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:57.639 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.639 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:57.640 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.640 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:57.642  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@37d9c317, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.269">
    <system-out><![CDATA[2020-12-02 23:19:57.646  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:57.646  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:57.647 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:57.647 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:57.647 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:57.668  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:57.669  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:57.722  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:57.730  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:57.734  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:57.747  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:1492860a-f7d0-4761-b960-f8ca965d1f18;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:57.777  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:57.781  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:57.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:57.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:57.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:57.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:57.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:57.802 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:57.802 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:57.803  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:57.803  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:57.901  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.251 seconds (JVM running for 37.192)
2020-12-02 23:19:57.903  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@23eee0da, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@728425bb]; rollback [true]
2020-12-02 23:19:57.905 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.905 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:57.907 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.907 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:57.909 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.909 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:57.909 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.909 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:57.910 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.910 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:57.910 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.911 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:57.911 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:57.911 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:57.911 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:57.912 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:57.913  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@23eee0da, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.272">
    <system-out><![CDATA[2020-12-02 23:19:57.917  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:57.917  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:57.917 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:57.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:57.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:57.963  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:57.963  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:57.999  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:58.007  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:58.013  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:58.026  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:972c171b-400b-4c8d-b31e-491f034a57ff;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:58.054  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:58.057  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:58.075 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:58.076 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:58.076 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:58.076 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:58.077 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:58.077 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:58.077 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:58.078  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:58.079  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:58.175  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.251 seconds (JVM running for 37.467)
2020-12-02 23:19:58.179  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@d1376ad, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@441784e5]; rollback [true]
2020-12-02 23:19:58.182 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.182 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:58.183 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.183 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:58.184 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.184 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:58.184 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.184 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:58.185 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.185 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:58.185 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.185 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:58.186 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.186 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:58.186 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.186 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:58.188  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@d1376ad, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.377">
    <system-out><![CDATA[2020-12-02 23:19:58.194  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:58.194  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:58.194 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:58.195 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:58.196 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:58.222  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:58.223  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:58.265  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:58.272  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:58.279  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:58.293  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:3217d913-bdbf-4f6d-ad7c-83635dcf51f2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:58.345  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:58.348  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:58.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:58.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:58.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:58.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:58.374 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:58.374 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:58.375 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:58.376  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:58.376  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:58.555  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.357 seconds (JVM running for 37.846)
2020-12-02 23:19:58.559  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6e41ba2, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6adc7f0b]; rollback [true]
2020-12-02 23:19:58.564 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.564 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:58.565 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.566 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:58.566 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.566 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:58.566 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.566 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:58.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.567 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:58.567 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.567 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:58.568 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.568 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:58.568 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.568 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:58.570  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@6e41ba2, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.344">
    <system-out><![CDATA[2020-12-02 23:19:58.610  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:58.611  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:58.611 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:58.612 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:58.612 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:58.638  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:58.638  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:58.703  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:58.713  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:58.718  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:58.730  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:50e1369e-7bbb-4902-ac62-c44d2a48b7e2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:58.769  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:58.772  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:58.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:58.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:58.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:58.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:58.801 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:58.802 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:58.802 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:58.807  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:58.807  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:58.911  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.289 seconds (JVM running for 38.203)
2020-12-02 23:19:58.914  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1c794a50, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7f614950]; rollback [true]
2020-12-02 23:19:58.915 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.915 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:58.917 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.917 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:58.917 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.917 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:58.917 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.917 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:58.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:58.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:58.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:58.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:58.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:58.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:58.920  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@1c794a50, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_notOver(List)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.258">
    <system-out><![CDATA[2020-12-02 23:19:58.922  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:58.922  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:58.922 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:58.923 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:58.923 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:58.941  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:58.941  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:58.981  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:58.988  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:58.993  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:59.006  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:704f4a8f-5e1d-4e9a-bb76-a926bbd727b9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:59.047  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:59.049  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:59.071 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:59.072 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:59.072 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:59.072 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:59.073 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:59.073 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:59.073 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:59.074  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:59.075  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:59.167  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.241 seconds (JVM running for 38.458)
2020-12-02 23:19:59.169  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@72e819d2, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5673a3a9]; rollback [true]
2020-12-02 23:19:59.172 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:59.172 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:59.173 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:59.174 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:59.174 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:59.174 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:59.175 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:59.175 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:59.175 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:59.175 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:59.175 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:59.175 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:59.176 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:19:59.176 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:59.177 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:19:59.177 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:59.178  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@72e819d2, testMethod = isGameOver_notOver@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.308">
    <system-out><![CDATA[2020-12-02 23:19:59.200  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:59.201  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:59.201 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:59.202 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:59.202 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:59.247  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:59.247  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:59.288  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:59.296  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:59.301  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:59.311  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:481efbc1-ec64-411c-bd56-8746e10f4dc9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:59.338  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:59.340  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:59.368 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:59.368 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:59.368 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:59.369 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:59.369 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:59.369 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:59.369 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:59.371  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:59.371  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:59.484  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.257 seconds (JVM running for 38.776)
2020-12-02 23:19:59.490  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3a2583ab, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5aba547f]; rollback [true]
2020-12-02 23:19:59.494 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:19:59.498 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [10]
2020-12-02 23:19:59.499 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:19:59.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [8]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [7]
2020-12-02 23:19:59.503 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [10]
2020-12-02 23:19:59.503 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:19:59.504 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:59.506  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3a2583ab, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.322">
    <system-out><![CDATA[2020-12-02 23:19:59.522  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:59.522  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:59.522 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:59.523 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:59.523 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:59.546  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:59.546  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:59.582  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:59.590  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:59.594  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:59.604  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:4be048ae-a8b6-42ff-8dfd-8a5577bdcfa8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:59.641  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:59.644  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:59.670 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:59.671 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:59.671 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:59.671 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:59.672 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:59.672 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:59.672 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:59.673  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:59.673  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:59.818  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.289 seconds (JVM running for 39.11)
2020-12-02 23:19:59.823  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2afb3510, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@759ecefd]; rollback [true]
2020-12-02 23:19:59.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:19:59.826 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:19:59.826 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:19:59.832 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:19:59.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:19:59.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:19:59.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:59.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:19:59.832 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:19:59.833 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:19:59.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:59.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:19:59.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:59.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:59.833 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:19:59.834 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:19:59.836  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2afb3510, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.403">
    <system-out><![CDATA[2020-12-02 23:19:59.843  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:59.844  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:59.844 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:59.844 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:59.844 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:59.881  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:59.881  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:19:59.934  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:59.946  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:59.952  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:59.963  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:5b638c43-19fe-4013-84b9-325296593c5a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:59.992  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:59.995  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:00.061 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:00.063 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:00.063 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:00.063 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:00.064 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:00.065 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:00.065 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:00.068  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:00.068  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:00.231  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.383 seconds (JVM running for 39.522)
2020-12-02 23:20:00.233  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2415be1a, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@483ab84]; rollback [true]
2020-12-02 23:20:00.236 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:00.236 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:20:00.236 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [4]
2020-12-02 23:20:00.241 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:00.241 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:20:00.241 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:20:00.241 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:00.241 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:20:00.241 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:20:00.241 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:00.242 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:20:00.242 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:20:00.242 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:00.242 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [5]
2020-12-02 23:20:00.242 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [4]
2020-12-02 23:20:00.242 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:00.245  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@2415be1a, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.343">
    <system-out><![CDATA[2020-12-02 23:20:00.248  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:00.249  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:00.249 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:00.249 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:00.250 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:00.273  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:00.274  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:00.344  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:00.353  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:00.357  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:00.365  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:6f4fc90b-2bcb-4280-bd03-cc02d3346568;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:00.388  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:00.391  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:00.413 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:00.414 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:00.414 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:00.414 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:00.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:00.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:00.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:00.417  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:00.417  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:00.577  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.325 seconds (JVM running for 39.869)
2020-12-02 23:20:00.581  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@50c1d152, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5cf6f5b3]; rollback [true]
2020-12-02 23:20:00.583 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:00.583 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [3]
2020-12-02 23:20:00.583 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:20:00.586 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:00.586 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:20:00.586 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [0]
2020-12-02 23:20:00.587 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [0]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [3]
2020-12-02 23:20:00.587 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:20:00.588 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:00.590  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@50c1d152, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.287">
    <system-out><![CDATA[2020-12-02 23:20:00.602  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:00.602  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:00.602 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:00.602 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:00.602 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:00.624  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:00.625  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:00.665  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:00.672  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:00.677  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:00.686  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:23ae3c02-b5fc-465d-a7fb-9fdeeac52cc3;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:00.721  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:00.724  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:00.748 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:00.748 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:00.748 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:00.748 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:00.749 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:00.749 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:00.750 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:00.751  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:00.752  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:00.871  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.266 seconds (JVM running for 40.162)
2020-12-02 23:20:00.876  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@17e77540, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@72ab2eb4]; rollback [true]
2020-12-02 23:20:00.878 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:00.878 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:20:00.878 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [7]
2020-12-02 23:20:00.882 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#800000]
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [8]
2020-12-02 23:20:00.882 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:20:00.882 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:00.883 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [9]
2020-12-02 23:20:00.883 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [7]
2020-12-02 23:20:00.883 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:00.887  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@17e77540, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.277">
    <system-out><![CDATA[2020-12-02 23:20:00.892  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:00.892  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:00.892 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:00.892 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:00.893 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:00.934  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:00.934  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:00.988  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:00.996  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:01.000  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:01.010  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:c79de25c-12fd-4472-ba62-e7c553913a7c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:01.038  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:01.041  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:01.059 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:01.060 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:01.060 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:01.060 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:01.060 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:01.061 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:01.061 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:01.062  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:01.062  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:01.155  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.254 seconds (JVM running for 40.447)
2020-12-02 23:20:01.157  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3cc254, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b0eb076]; rollback [true]
2020-12-02 23:20:01.158 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:01.159 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [1]
2020-12-02 23:20:01.159 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [10]
2020-12-02 23:20:01.164 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:01.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:20:01.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:20:01.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:01.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:20:01.165 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:20:01.165 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:01.166 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:20:01.166 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:20:01.166 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:01.166 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:20:01.166 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [10]
2020-12-02 23:20:01.166 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:01.168  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3cc254, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.34">
    <system-out><![CDATA[2020-12-02 23:20:01.170  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:01.170  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:01.171 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:01.171 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:01.171 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:01.192  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:01.193  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:01.256  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:01.265  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:01.272  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:01.284  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:9f8220b4-f845-48f6-8764-555f61f93403;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:01.326  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:01.329  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:01.356 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:01.357 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:01.357 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:01.357 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:01.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:01.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:01.358 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:01.360  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:01.360  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:01.495  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.321 seconds (JVM running for 40.786)
2020-12-02 23:20:01.499  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7b7a646e, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@47d065aa]; rollback [true]
2020-12-02 23:20:01.501 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:01.502 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:20:01.502 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:20:01.506 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:01.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [7]
2020-12-02 23:20:01.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [8]
2020-12-02 23:20:01.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:01.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#808080]
2020-12-02 23:20:01.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [2]
2020-12-02 23:20:01.507 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:01.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:20:01.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:20:01.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:01.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [7]
2020-12-02 23:20:01.507 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:20:01.507 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:01.509  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7b7a646e, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.346">
    <system-out><![CDATA[2020-12-02 23:20:01.513  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:01.513  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:01.513 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:01.514 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:01.514 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:01.565  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:01.566  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:01.620  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:01.633  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:01.638  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:01.651  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:ea467a27-30c6-42df-b375-c43814465f18;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:01.700  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:01.704  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:01.737 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:01.737 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:01.737 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:01.737 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:01.738 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:01.739 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:01.739 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:01.741  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:01.741  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:01.849  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.332 seconds (JVM running for 41.14)
2020-12-02 23:20:01.851  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4d5bcc47, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@10b0418c]; rollback [true]
2020-12-02 23:20:01.852 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:01.853 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:20:01.853 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:20:01.855 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:01.855 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:20:01.855 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [2]
2020-12-02 23:20:01.855 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:01.855 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:20:01.856 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [6]
2020-12-02 23:20:01.856 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:01.856 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:20:01.856 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [6]
2020-12-02 23:20:01.856 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:01.856 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [9]
2020-12-02 23:20:01.856 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [9]
2020-12-02 23:20:01.856 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:01.858  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@4d5bcc47, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.246">
    <system-out><![CDATA[2020-12-02 23:20:01.863  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:01.863  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:01.863 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:01.863 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:01.864 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:01.899  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:01.899  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:01.932  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:01.939  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:01.943  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:01.957  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:50f3a813-751c-4f15-a5d9-b601db0231b1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:01.984  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:01.986  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:02.001 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.002 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.002 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:02.002 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:02.002 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:02.002 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:02.003 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:02.004  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:02.004  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:02.095  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.227 seconds (JVM running for 41.386)
2020-12-02 23:20:02.097  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@795dc12e, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2aeb2f78]; rollback [true]
2020-12-02 23:20:02.099 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:02.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:20:02.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:20:02.104 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:02.104 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [9]
2020-12-02 23:20:02.104 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:20:02.104 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:02.104 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:20:02.104 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [9]
2020-12-02 23:20:02.105 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:02.105 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:02.105 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [9]
2020-12-02 23:20:02.105 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:02.105 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:20:02.105 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [3]
2020-12-02 23:20:02.105 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:02.107  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@795dc12e, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addLocation(Location)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.28">
    <system-out><![CDATA[2020-12-02 23:20:02.110  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:02.110  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:02.110 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.111 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.117 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:02.149  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:02.150  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:02.198  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:02.209  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:02.215  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:02.226  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:e81407ea-5ae4-4b10-91ed-2e1f2654dd9a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:02.253  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:02.255  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:02.275 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.275 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.275 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:02.275 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:02.276 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:02.276 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:02.276 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:02.277  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:02.277  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:02.374  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.253 seconds (JVM running for 41.665)
2020-12-02 23:20:02.377  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@99c0d21, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@fb972be]; rollback [true]
2020-12-02 23:20:02.379 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
Hibernate: select location0_.piece_col as piece_co1_0_0_, location0_.piece_row as piece_ro2_0_0_, location0_.piece_color as piece_co4_0_0_, location0_.piece_rank as piece_ra5_0_0_, location0_.version as version3_0_0_, piece1_.color as color1_1_1_, piece1_.rank as rank2_1_1_, piece1_.current_count as current_3_1_1_, piece1_.max_count as max_coun4_1_1_, piece1_.version as version5_1_1_ from location location0_ left outer join piece piece1_ on location0_.piece_color=piece1_.color and location0_.piece_rank=piece1_.rank where location0_.piece_col=? and location0_.piece_row=?
2020-12-02 23:20:02.379 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [5]
2020-12-02 23:20:02.379 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [5]
2020-12-02 23:20:02.383 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
Hibernate: insert into piece (current_count, max_count, version, color, rank) values (?, ?, ?, ?, ?)
2020-12-02 23:20:02.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [4]
2020-12-02 23:20:02.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [3]
2020-12-02 23:20:02.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:02.383 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [#000099]
2020-12-02 23:20:02.384 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [1]
2020-12-02 23:20:02.385 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
Hibernate: insert into location (piece_color, piece_rank, version, piece_col, piece_row) values (?, ?, ?, ?, ?)
2020-12-02 23:20:02.385 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:02.385 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [INTEGER] - [1]
2020-12-02 23:20:02.385 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:20:02.385 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [5]
2020-12-02 23:20:02.385 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [INTEGER] - [5]
2020-12-02 23:20:02.386 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
Hibernate: select location0_.piece_col as piece_co1_0_, location0_.piece_row as piece_ro2_0_, location0_.piece_color as piece_co4_0_, location0_.piece_rank as piece_ra5_0_, location0_.version as version3_0_ from location location0_
2020-12-02 23:20:02.388  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@99c0d21, testMethod = addLocation@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[1]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.28">
    <system-out><![CDATA[2020-12-02 23:20:02.393  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:02.394  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:02.394 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.399 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.400 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:02.435  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:02.436  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:02.476  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:02.487  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:02.495  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:02.508  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:c37b64f9-a150-4160-9c37-51b41b7cc848;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:02.539  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:02.541  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:02.561 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.561 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.561 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:02.561 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:02.561 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:02.562 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:02.562 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:02.563  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:02.563  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:02.658  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.253 seconds (JVM running for 41.949)
2020-12-02 23:20:02.660  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7830cb00, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@74b3efc1]; rollback [true]
2020-12-02 23:20:02.664 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:02.665 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:02.666 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:02.666 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:02.667 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:02.668 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:02.668 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:02.668 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:02.669 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:02.669 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:02.669 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:02.669 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:02.669 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:02.669 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:02.670 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:02.670 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:02.671  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@7830cb00, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[2]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.353">
    <system-out><![CDATA[2020-12-02 23:20:02.680  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:02.680  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:02.680 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.680 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.681 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:02.708  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:02.708  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:02.745  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:02.769  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:02.776  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:02.789  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:07084353-2a07-45bb-a995-292e9009a333;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:02.830  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:02.834  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:02.861 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:02.862 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:02.862 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:02.862 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:02.863 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:02.863 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:02.864 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:02.865  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:02.865  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.021  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.335 seconds (JVM running for 42.313)
2020-12-02 23:20:03.024  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@593545ed, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@d37b881]; rollback [true]
2020-12-02 23:20:03.026 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.026 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.027 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.027 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.028 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.028 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.028 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.028 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.028 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.028 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.028 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.028 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.029 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.029 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.029 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.029 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.031  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@593545ed, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[3]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.365">
    <system-out><![CDATA[2020-12-02 23:20:03.037  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.037  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:03.037 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.037 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.037 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:03.091  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:03.091  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:03.158  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:03.171  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:03.179  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:03.195  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:1be56871-71a4-48c5-b6ad-56e7d3b0bad2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:03.233  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:03.236  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:03.272 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.272 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.272 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:03.272 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:03.273 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:03.274 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:03.274 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:03.276  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:03.276  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.384  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.344 seconds (JVM running for 42.676)
2020-12-02 23:20:03.388  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@26dacc14, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@70f5cf78]; rollback [true]
2020-12-02 23:20:03.391 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.391 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.392 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.393 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.394 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.394 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.394 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.394 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.395 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.395 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.395 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.395 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.396 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.396 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.396 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.396 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.398  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@26dacc14, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[4]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.261">
    <system-out><![CDATA[2020-12-02 23:20:03.415  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.415  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:03.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.415 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.416 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:03.446  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:03.446  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:03.490  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:03.499  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:03.504  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:03.513  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:a7a16719-f818-4020-bded-8882de3876db;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:03.538  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:03.540  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:03.557 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:03.558 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:03.559 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:03.559 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:03.559 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:03.560  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:03.561  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.664  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.246 seconds (JVM running for 42.956)
2020-12-02 23:20:03.667  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@38d5fa1a, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@47b56041]; rollback [true]
2020-12-02 23:20:03.670 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.670 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.671 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.672 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.672 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.672 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.673 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.673 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.673 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.673 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.673 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.673 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.673 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.673 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.674 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.674 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.675  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@38d5fa1a, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[5]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.245">
    <system-out><![CDATA[2020-12-02 23:20:03.681  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.681  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:03.681 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.684 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.684 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:03.710  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:03.711  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:03.749  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:03.755  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:03.760  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:03.769  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0f28ef04-d60f-4643-aa7e-110d5170c447;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:03.796  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:03.799  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:03.820 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:03.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:03.821 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:03.822 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:03.822 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:03.824  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:03.824  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.909  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.221 seconds (JVM running for 43.201)
2020-12-02 23:20:03.913  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3db63e00, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1fd4c8a4]; rollback [true]
2020-12-02 23:20:03.916 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.916 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.917 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:03.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:03.920 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.920 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.920 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.920 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.921 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:03.921 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:03.921 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:03.921 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:03.923  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@3db63e00, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[6]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.303">
    <system-out><![CDATA[2020-12-02 23:20:03.934  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:03.935  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:03.935 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:03.941 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:03.942 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:03.981  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:03.982  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:04.034  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:04.042  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:04.047  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:04.057  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:f82d5369-d0c0-4645-9418-53c1103e8289;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:04.093  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:04.095  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:04.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:04.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:04.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:04.118 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:04.119 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:04.119 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:04.119 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:04.120  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:04.120  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:04.223  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.275 seconds (JVM running for 43.515)
2020-12-02 23:20:04.226  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@338be8f5, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1f6483a3]; rollback [true]
2020-12-02 23:20:04.228 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.228 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:04.229 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.230 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:04.230 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.230 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:04.231 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.231 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:04.231 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.231 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:04.232 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.232 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:04.232 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.233 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:04.233 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.233 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:04.236  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@338be8f5, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[7]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.368">
    <system-out><![CDATA[2020-12-02 23:20:04.247  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:04.247  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:04.247 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:04.248 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:04.248 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:04.267  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:04.267  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:04.335  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:04.348  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:04.354  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:04.372  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:78a95505-0edd-4576-8443-3b3e76351c64;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:04.418  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:04.421  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:04.444 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:04.445 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:04.445 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:04.445 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:04.448 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:04.451 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:04.452 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:04.453  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:04.453  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:04.598  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.348 seconds (JVM running for 43.89)
2020-12-02 23:20:04.601  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5b4f1d97, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7d01a6fa]; rollback [true]
2020-12-02 23:20:04.603 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.603 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:04.604 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.604 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:04.605 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.605 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:04.605 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.605 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:04.606 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.606 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:04.606 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.606 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:04.607 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:04.607 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.607 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:04.609  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@5b4f1d97, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[8]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.306">
    <system-out><![CDATA[2020-12-02 23:20:04.667  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:04.668  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:04.668 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:04.669 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:04.669 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:04.690  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:04.690  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:04.750  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:04.761  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:04.767  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:04.785  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:7c69a356-aa5b-4ac3-b486-3858b33c8f12;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:04.824  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:04.828  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:04.857 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:04.857 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:04.857 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:04.857 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:04.858 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:04.859 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:04.860 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:04.861  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:04.862  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:04.962  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.29 seconds (JVM running for 44.254)
2020-12-02 23:20:04.965  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@877ca1e, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@15409750]; rollback [true]
2020-12-02 23:20:04.967 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.967 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:04.968 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.968 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:04.968 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.968 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:04.969 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.969 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:04.969 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.969 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:04.969 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.969 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:04.970 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:04.970 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:04.970 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:04.970 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:04.972  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@877ca1e, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[9]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.281">
    <system-out><![CDATA[2020-12-02 23:20:04.974  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:04.974  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:04.974 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:04.975 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:04.975 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:04.994  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:04.995  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:05.047  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:05.056  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:05.061  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:05.071  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:a401b917-2ac3-4b95-967a-95ac68529514;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:05.106  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:05.109  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:05.125 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:05.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:05.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:05.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:05.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:05.126 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:05.127 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:05.128  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:05.128  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:05.242  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.264 seconds (JVM running for 44.534)
2020-12-02 23:20:05.244  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@65c076b7, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5c180f9b]; rollback [true]
2020-12-02 23:20:05.247 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.248 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:05.249 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.249 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:05.250 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.250 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:05.250 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.251 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:05.251 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.251 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:05.252 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.252 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:05.252 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.252 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:05.252 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.252 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:05.254  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@65c076b7, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="isGameOver_blue(List)[10]" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.258">
    <system-out><![CDATA[2020-12-02 23:20:05.256  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:05.256  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:20:05.256 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:05.257 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:05.257 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:20:05.282  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Starting GameServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:20:05.282  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : No active profile set, falling back to default profiles: default
2020-12-02 23:20:05.334  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:20:05.342  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:20:05.347  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:20:05.357  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:93d86654-28e6-4c58-8cf9-50bd076f06be;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:20:05.389  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:20:05.392  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:20:05.409 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:20:05.410 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:20:05.410 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:20:05.410 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:20:05.410 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:20:05.411 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:20:05.411 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:20:05.412  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:20:05.412  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:20:05.502  INFO 43721 --- [           main] c.l.wargame.service.GameServiceImplTest  : Started GameServiceImplTest in 0.241 seconds (JVM running for 44.793)
2020-12-02 23:20:05.504  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@d5ce2fe, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2e810b40]; rollback [true]
2020-12-02 23:20:05.506 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.506 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:05.508 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.509 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:05.509 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.509 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:20:05.510 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.510 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:20:05.511 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.511 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:05.511 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.511 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:05.511 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count>0 and piece0_.current_count=piece0_.max_count
2020-12-02 23:20:05.512 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:20:05.512 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
Hibernate: select piece0_.color as color1_1_, piece0_.rank as rank2_1_, piece0_.current_count as current_3_1_, piece0_.max_count as max_coun4_1_, piece0_.version as version5_1_ from piece piece0_ where piece0_.color=? and piece0_.current_count<piece0_.max_count
2020-12-02 23:20:05.512 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:20:05.513  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@6dd1e22 testClass = GameServiceImplTest, testInstance = com.luckyl.wargame.service.GameServiceImplTest@d5ce2fe, testMethod = isGameOver_blue@GameServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@95d5d31 testClass = GameServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@599308d0 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="attackSameTeam(Pair)" classname="com.luckyl.wargame.service.GameServiceImplTest" time="0.261">
    <error type="java.lang.NullPointerException"><![CDATA[java.lang.NullPointerException: Cannot invoke "java.util.List.isEmpty()" because "this.ranksBlue" is null
]]></error>
  </testcase>
</testsuite>