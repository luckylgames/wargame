<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="com.luckyl.wargame.service.PlayerServiceImplTest" time="14.472" tests="24" errors="0" skipped="0" failures="10">
  <properties>
    <property name="java.specification.version" value="15"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/Users/kevinapril/git/wargame/wargame-service/target/test-classes:/Users/kevinapril/git/wargame/wargame-service/target/classes:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter/2.2.6.RELEASE/spring-boot-starter-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot/2.2.6.RELEASE/spring-boot-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-context/5.2.5.RELEASE/spring-context-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-expression/5.2.5.RELEASE/spring-expression-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.2.6.RELEASE/spring-boot-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.2.6.RELEASE/spring-boot-starter-logging-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.12.1/log4j-to-slf4j-2.12.1.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-api/2.12.1/log4j-api-2.12.1.jar:/Users/kevinapril/.m2/repository/org/slf4j/jul-to-slf4j/1.7.30/jul-to-slf4j-1.7.30.jar:/Users/kevinapril/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-core/5.2.5.RELEASE/spring-core-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jcl/5.2.5.RELEASE/spring-jcl-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/yaml/snakeyaml/1.25/snakeyaml-1.25.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-devtools/2.2.6.RELEASE/spring-boot-devtools-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.2.6.RELEASE/spring-boot-configuration-processor-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/projectlombok/lombok/1.18.12/lombok-1.18.12.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.2.6.RELEASE/spring-boot-starter-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.2.6.RELEASE/spring-boot-starter-aop-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aop/5.2.5.RELEASE/spring-aop-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/aspectj/aspectjweaver/1.9.5/aspectjweaver-1.9.5.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.2.6.RELEASE/spring-boot-starter-jdbc-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/zaxxer/HikariCP/3.4.2/HikariCP-3.4.2.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jdbc/5.2.5.RELEASE/spring-jdbc-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/kevinapril/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/kevinapril/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/kevinapril/.m2/repository/org/hibernate/hibernate-core/5.4.12.Final/hibernate-core-5.4.12.Final.jar:/Users/kevinapril/.m2/repository/org/jboss/logging/jboss-logging/3.4.1.Final/jboss-logging-3.4.1.Final.jar:/Users/kevinapril/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy/1.10.8/byte-buddy-1.10.8.jar:/Users/kevinapril/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/kevinapril/.m2/repository/org/jboss/jandex/2.1.1.Final/jandex-2.1.1.Final.jar:/Users/kevinapril/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/kevinapril/.m2/repository/org/dom4j/dom4j/2.1.1/dom4j-2.1.1.jar:/Users/kevinapril/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jaxb-runtime-2.3.2.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/txw2/2.3.2/txw2-2.3.2.jar:/Users/kevinapril/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.8/istack-commons-runtime-3.0.8.jar:/Users/kevinapril/.m2/repository/org/jvnet/staxex/stax-ex/1.8.1/stax-ex-1.8.1.jar:/Users/kevinapril/.m2/repository/com/sun/xml/fastinfoset/FastInfoset/1.2.16/FastInfoset-1.2.16.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-jpa/2.2.6.RELEASE/spring-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-commons/2.2.6.RELEASE/spring-data-commons-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-orm/5.2.5.RELEASE/spring-orm-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-tx/5.2.5.RELEASE/spring-tx-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-beans/5.2.5.RELEASE/spring-beans-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aspects/5.2.5.RELEASE/spring-aspects-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.2.6.RELEASE/spring-boot-starter-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test/2.2.6.RELEASE/spring-boot-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.2.6.RELEASE/spring-boot-test-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/Users/kevinapril/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/kevinapril/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/kevinapril/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/kevinapril/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter/5.5.2/junit-jupiter-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.5.2/junit-jupiter-api-5.5.2.jar:/Users/kevinapril/.m2/repository/org/apiguardian/apiguardian-api/1.1.0/apiguardian-api-1.1.0.jar:/Users/kevinapril/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-commons/1.5.2/junit-platform-commons-1.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.5.2/junit-jupiter-params-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.5.2/junit-jupiter-engine-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-engine/1.5.2/junit-platform-engine-1.5.2.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-junit-jupiter/3.1.0/mockito-junit-jupiter-3.1.0.jar:/Users/kevinapril/.m2/repository/org/assertj/assertj-core/3.13.2/assertj-core-3.13.2.jar:/Users/kevinapril/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-core/3.1.0/mockito-core-3.1.0.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy-agent/1.10.8/byte-buddy-agent-1.10.8.jar:/Users/kevinapril/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/kevinapril/.m2/repository/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/Users/kevinapril/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-test/5.2.5.RELEASE/spring-test-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/xmlunit/xmlunit-core/2.6.4/xmlunit-core-2.6.4.jar:/Users/kevinapril/git/wargame/wargame-api/target/wargame-api-1.1-SNAPSHOT.jar:/Users/kevinapril/.m2/repository/org/apache/commons/commons-lang3/3.9/commons-lang3-3.9.jar:/Users/kevinapril/.m2/repository/com/h2database/h2/1.4.200/h2-1.4.200.jar:/Users/kevinapril/.m2/repository/javax/servlet/javax.servlet-api/4.0.1/javax.servlet-api-4.0.1.jar:"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://java.oracle.com/"/>
    <property name="user.timezone" value="America/Chicago"/>
    <property name="os.name" value="Mac OS X"/>
    <property name="java.vm.specification.version" value="15"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="user.country" value="US"/>
    <property name="sun.boot.library.path" value="/Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home/lib"/>
    <property name="sun.java.command" value="/Users/kevinapril/git/wargame/wargame-service/target/surefire/surefirebooter6986693075363321373.jar /Users/kevinapril/git/wargame/wargame-service/target/surefire 2020-12-02T23-19-15_005-jvmRun1 surefire188056361152758861tmp surefire_018233286729926850916tmp"/>
    <property name="http.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="jdk.debug" value="release"/>
    <property name="surefire.test.class.path" value="/Users/kevinapril/git/wargame/wargame-service/target/test-classes:/Users/kevinapril/git/wargame/wargame-service/target/classes:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter/2.2.6.RELEASE/spring-boot-starter-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot/2.2.6.RELEASE/spring-boot-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-context/5.2.5.RELEASE/spring-context-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-expression/5.2.5.RELEASE/spring-expression-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.2.6.RELEASE/spring-boot-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.2.6.RELEASE/spring-boot-starter-logging-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/Users/kevinapril/.m2/repository/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.12.1/log4j-to-slf4j-2.12.1.jar:/Users/kevinapril/.m2/repository/org/apache/logging/log4j/log4j-api/2.12.1/log4j-api-2.12.1.jar:/Users/kevinapril/.m2/repository/org/slf4j/jul-to-slf4j/1.7.30/jul-to-slf4j-1.7.30.jar:/Users/kevinapril/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-core/5.2.5.RELEASE/spring-core-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jcl/5.2.5.RELEASE/spring-jcl-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/yaml/snakeyaml/1.25/snakeyaml-1.25.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-devtools/2.2.6.RELEASE/spring-boot-devtools-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-configuration-processor/2.2.6.RELEASE/spring-boot-configuration-processor-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/projectlombok/lombok/1.18.12/lombok-1.18.12.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/2.2.6.RELEASE/spring-boot-starter-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-aop/2.2.6.RELEASE/spring-boot-starter-aop-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aop/5.2.5.RELEASE/spring-aop-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/aspectj/aspectjweaver/1.9.5/aspectjweaver-1.9.5.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/2.2.6.RELEASE/spring-boot-starter-jdbc-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/zaxxer/HikariCP/3.4.2/HikariCP-3.4.2.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-jdbc/5.2.5.RELEASE/spring-jdbc-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/kevinapril/.m2/repository/jakarta/persistence/jakarta.persistence-api/2.2.3/jakarta.persistence-api-2.2.3.jar:/Users/kevinapril/.m2/repository/jakarta/transaction/jakarta.transaction-api/1.3.3/jakarta.transaction-api-1.3.3.jar:/Users/kevinapril/.m2/repository/org/hibernate/hibernate-core/5.4.12.Final/hibernate-core-5.4.12.Final.jar:/Users/kevinapril/.m2/repository/org/jboss/logging/jboss-logging/3.4.1.Final/jboss-logging-3.4.1.Final.jar:/Users/kevinapril/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy/1.10.8/byte-buddy-1.10.8.jar:/Users/kevinapril/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/kevinapril/.m2/repository/org/jboss/jandex/2.1.1.Final/jandex-2.1.1.Final.jar:/Users/kevinapril/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/kevinapril/.m2/repository/org/dom4j/dom4j/2.1.1/dom4j-2.1.1.jar:/Users/kevinapril/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jaxb-runtime-2.3.2.jar:/Users/kevinapril/.m2/repository/org/glassfish/jaxb/txw2/2.3.2/txw2-2.3.2.jar:/Users/kevinapril/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.8/istack-commons-runtime-3.0.8.jar:/Users/kevinapril/.m2/repository/org/jvnet/staxex/stax-ex/1.8.1/stax-ex-1.8.1.jar:/Users/kevinapril/.m2/repository/com/sun/xml/fastinfoset/FastInfoset/1.2.16/FastInfoset-1.2.16.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-jpa/2.2.6.RELEASE/spring-data-jpa-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/data/spring-data-commons/2.2.6.RELEASE/spring-data-commons-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-orm/5.2.5.RELEASE/spring-orm-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-tx/5.2.5.RELEASE/spring-tx-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-beans/5.2.5.RELEASE/spring-beans-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/slf4j/slf4j-api/1.7.30/slf4j-api-1.7.30.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-aspects/5.2.5.RELEASE/spring-aspects-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.2.6.RELEASE/spring-boot-starter-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test/2.2.6.RELEASE/spring-boot-test-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.2.6.RELEASE/spring-boot-test-autoconfigure-2.2.6.RELEASE.jar:/Users/kevinapril/.m2/repository/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/Users/kevinapril/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/kevinapril/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/kevinapril/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/kevinapril/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter/5.5.2/junit-jupiter-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.5.2/junit-jupiter-api-5.5.2.jar:/Users/kevinapril/.m2/repository/org/apiguardian/apiguardian-api/1.1.0/apiguardian-api-1.1.0.jar:/Users/kevinapril/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-commons/1.5.2/junit-platform-commons-1.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.5.2/junit-jupiter-params-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.5.2/junit-jupiter-engine-5.5.2.jar:/Users/kevinapril/.m2/repository/org/junit/platform/junit-platform-engine/1.5.2/junit-platform-engine-1.5.2.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-junit-jupiter/3.1.0/mockito-junit-jupiter-3.1.0.jar:/Users/kevinapril/.m2/repository/org/assertj/assertj-core/3.13.2/assertj-core-3.13.2.jar:/Users/kevinapril/.m2/repository/org/hamcrest/hamcrest/2.1/hamcrest-2.1.jar:/Users/kevinapril/.m2/repository/org/mockito/mockito-core/3.1.0/mockito-core-3.1.0.jar:/Users/kevinapril/.m2/repository/net/bytebuddy/byte-buddy-agent/1.10.8/byte-buddy-agent-1.10.8.jar:/Users/kevinapril/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/kevinapril/.m2/repository/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/Users/kevinapril/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/kevinapril/.m2/repository/org/springframework/spring-test/5.2.5.RELEASE/spring-test-5.2.5.RELEASE.jar:/Users/kevinapril/.m2/repository/org/xmlunit/xmlunit-core/2.6.4/xmlunit-core-2.6.4.jar:/Users/kevinapril/git/wargame/wargame-api/target/wargame-api-1.1-SNAPSHOT.jar:/Users/kevinapril/.m2/repository/org/apache/commons/commons-lang3/3.9/commons-lang3-3.9.jar:/Users/kevinapril/.m2/repository/com/h2database/h2/1.4.200/h2-1.4.200.jar:/Users/kevinapril/.m2/repository/javax/servlet/javax.servlet-api/4.0.1/javax.servlet-api-4.0.1.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/Users/kevinapril"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.version.date" value="2020-10-20"/>
    <property name="java.home" value="/Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home"/>
    <property name="file.separator" value="/"/>
    <property name="basedir" value="/Users/kevinapril/git/wargame/wargame-service"/>
    <property name="java.vm.compressedOopsMode" value="Zero based"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.headless" value="true"/>
    <property name="surefire.real.class.path" value="/Users/kevinapril/git/wargame/wargame-service/target/surefire/surefirebooter6986693075363321373.jar"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="ftp.nonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="java.runtime.version" value="15.0.1+9-18"/>
    <property name="user.name" value="kevinapril"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="10.15.5"/>
    <property name="java.runtime.name" value="Java(TM) SE Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="spring.beaninfo.ignore" value="true"/>
    <property name="java.vm.name" value="Java HotSpot(TM) 64-Bit Server VM"/>
    <property name="localRepository" value="/Users/kevinapril/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://bugreport.java.com/bugreport/"/>
    <property name="java.io.tmpdir" value="/var/folders/dx/mmk627qd2595w2p8rnf6qxqm0000gn/T/"/>
    <property name="idea.version" value="2020.3"/>
    <property name="java.version" value="15.0.1"/>
    <property name="user.dir" value="/Users/kevinapril/git/wargame/wargame-service"/>
    <property name="os.arch" value="x86_64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="PID" value="43721"/>
    <property name="java.library.path" value="/Users/kevinapril/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:."/>
    <property name="java.vm.info" value="mixed mode, sharing"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="java.vm.version" value="15.0.1+9-18"/>
    <property name="sun.io.unicode.encoding" value="UnicodeBig"/>
    <property name="socksNonProxyHosts" value="local|*.local|169.254/16|*.169.254/16"/>
    <property name="java.class.version" value="59.0"/>
  </properties>
  <testcase name="removePlayer" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.772">
    <system-out><![CDATA[23:19:21.619 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
23:19:21.632 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
23:19:21.692 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.luckyl.wargame.service.PlayerServiceImplTest] from class [org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper]
23:19:21.725 [main] INFO org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.luckyl.wargame.service.PlayerServiceImplTest], using SpringBootContextLoader
23:19:21.732 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.luckyl.wargame.service.PlayerServiceImplTest]: class path resource [com/luckyl/wargame/service/PlayerServiceImplTest-context.xml] does not exist
23:19:21.733 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.luckyl.wargame.service.PlayerServiceImplTest]: class path resource [com/luckyl/wargame/service/PlayerServiceImplTestContext.groovy] does not exist
23:19:21.733 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.luckyl.wargame.service.PlayerServiceImplTest]: no resource found for suffixes {-context.xml, Context.groovy}.
23:19:21.735 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.luckyl.wargame.service.PlayerServiceImplTest]: PlayerServiceImplTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
23:19:21.828 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.luckyl.wargame.service.PlayerServiceImplTest]
23:19:21.892 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/Users/kevinapril/git/wargame/wargame-service/target/test-classes/com/luckyl/wargame/TestApplication.class]
23:19:21.896 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.luckyl.wargame.TestApplication for test class com.luckyl.wargame.service.PlayerServiceImplTest
23:19:21.898 [main] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper - @TestExecutionListeners is not present for class [com.luckyl.wargame.service.PlayerServiceImplTest]: using defaults.
23:19:21.899 [main] INFO org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
23:19:21.912 [main] DEBUG org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]
23:19:21.919 [main] INFO org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f666ebb, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@19976a65, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@a1f72f5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b2c5e02, org.springframework.test.context.transaction.TransactionalTestExecutionListener@57a3e26a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75c56eb9, org.springframework.test.context.event.EventPublishingTestExecutionListener@4bc222e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2dc9b0f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6531a794, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3b5fad2d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5e17553a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3eb91815]
23:19:21.924 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [true] with mode [BEFORE_EACH_TEST_METHOD].
23:19:21.940 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6692b6c6, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]].
23:19:22.059 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true, server.port=-1}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:22.586  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:22.588  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:23.070  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:23.161  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:23.218  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:23.426  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:6d48bf15-0f81-405e-9582-197bae821371;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:23.897  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:24.009  INFO 43721 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final
2020-12-02 23:19:24.214  INFO 43721 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-12-02 23:19:24.375  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:25.149 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:25.151 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:25.151 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:25.154 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:25.162 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:25.164 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:25.166 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:25.175  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:25.184  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:25.867  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 3.805 seconds (JVM running for 5.156)
2020-12-02 23:19:25.882  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:25.883  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:25.884 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:25.891 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:25.892 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:25.928  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:25.929  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:26.034  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:26.047  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:26.065  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:26.088  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:9a17d206-6e73-4aea-9c46-586f3cbf27c7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:26.165  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:26.171  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:26.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:26.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:26.261 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:26.261 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:26.262 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:26.264 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:26.265 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:26.267  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:26.268  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:26.462  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.562 seconds (JVM running for 5.752)
2020-12-02 23:19:26.477  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6692b6c6, testMethod = removePlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1736273c]; rollback [true]
2020-12-02 23:19:26.642  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6692b6c6, testMethod = removePlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="findPlayerByName" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.523">
    <system-out><![CDATA[2020-12-02 23:19:26.657  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:26.658  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:26.658 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:26.660 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:26.661 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:26.684  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:26.685  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:26.787  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:26.803  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:26.812  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:26.829  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:cbf63b76-bdd6-4de0-91ac-dd81e9afcae1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:26.893  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:26.898  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:26.981 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:26.982 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:26.982 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:26.983 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:26.986 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:26.988 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:26.991 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:26.994  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:26.994  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:27.165  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.498 seconds (JVM running for 6.455)
2020-12-02 23:19:27.171  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@697b48e4, testMethod = findPlayerByName@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@60ba6631]; rollback [true]
2020-12-02 23:19:27.176  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@697b48e4, testMethod = findPlayerByName@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[1]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.622">
    <system-out><![CDATA[2020-12-02 23:19:27.218  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:27.219  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:27.219 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:27.221 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:27.222 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:27.244  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:27.245  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:27.320  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:27.331  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:27.341  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:27.358  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:62e8ec44-268e-4ea2-a84d-33e59b223b8e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:27.427  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:27.432  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:27.497 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:27.497 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:27.498 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:27.498 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:27.500 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:27.502 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:27.503 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:27.506  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:27.506  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:27.706  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.481 seconds (JVM running for 6.996)
2020-12-02 23:19:27.710  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@5671078e, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3d6745ed]; rollback [true]
2020-12-02 23:19:27.772 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:27.774 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:27.774 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Jake]
2020-12-02 23:19:27.775 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:27.775 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:27.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [9a99ff11-b442-4149-925f-f8d98a947ba8]
2020-12-02 23:19:27.781 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:27.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Jake]
2020-12-02 23:19:27.837  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@5671078e, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[2]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.443">
    <system-out><![CDATA[2020-12-02 23:19:27.860  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:27.861  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:27.861 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:27.864 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:27.866 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:27.890  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:27.891  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:27.958  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:27.969  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:27.978  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:27.998  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:e21aa219-a3ed-4c66-8895-3925b0afc15f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:28.041  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:28.045  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:28.120 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:28.121 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:28.122 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:28.123 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:28.125 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:28.128 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:28.130 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:28.133  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:28.134  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:28.285  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.414 seconds (JVM running for 7.575)
2020-12-02 23:19:28.291  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@21fa19e4, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d1eb214]; rollback [true]
2020-12-02 23:19:28.295 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:28.296 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:28.296 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Dylan]
2020-12-02 23:19:28.296 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:28.296 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:28.297 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [95e73183-af1b-4583-adbc-7a78ffab3aae]
2020-12-02 23:19:28.297 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:28.298 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Dylan]
2020-12-02 23:19:28.301  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@21fa19e4, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[3]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.459">
    <system-out><![CDATA[2020-12-02 23:19:28.331  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:28.331  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:28.331 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:28.334 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:28.335 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:28.358  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:28.359  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:28.441  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:28.454  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:28.466  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:28.481  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:02d35c88-3671-4b5a-9164-cfa801352d76;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:28.532  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:28.538  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:28.595 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:28.595 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:28.596 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:28.596 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:28.601 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:28.603 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:28.604 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:28.608  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:28.608  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:28.773  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.432 seconds (JVM running for 8.063)
2020-12-02 23:19:28.777  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@4cc4f6bd, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@8dd0c70]; rollback [true]
2020-12-02 23:19:28.781 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:28.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:28.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kevin]
2020-12-02 23:19:28.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:28.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:28.782 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [fe7969a2-30c5-400d-8046-1dce106736c3]
2020-12-02 23:19:28.783 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:28.784 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kevin]
2020-12-02 23:19:28.787  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@4cc4f6bd, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[4]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.482">
    <system-out><![CDATA[2020-12-02 23:19:28.791  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:28.791  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:28.791 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:28.794 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:28.795 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:28.822  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:28.822  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:28.914  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:28.929  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:28.942  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:28.959  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:064e5981-c27d-4e80-b218-b5b6c3494469;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:29.025  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:29.030  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:29.093 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:29.094 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:29.094 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:29.094 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:29.095 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:29.096 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:29.097 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:29.101  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:29.101  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:29.250  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.451 seconds (JVM running for 8.54)
2020-12-02 23:19:29.256  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@1dcf5f38, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@34538ffe]; rollback [true]
2020-12-02 23:19:29.264 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:29.264 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:29.264 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:29.265 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:29.265 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [2]
2020-12-02 23:19:29.265 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [a1419f4e-4bb2-42bb-8e33-614400147a9e]
2020-12-02 23:19:29.266 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:29.267 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:29.270  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@1dcf5f38, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[5]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.38">
    <system-out><![CDATA[2020-12-02 23:19:29.278  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:29.280  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:29.281 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:29.283 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:29.284 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:29.310  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:29.310  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:29.368  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:29.378  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:29.387  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:29.403  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:24d08699-7cbe-4c65-ae63-b03145b88642;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:29.441  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:29.444  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:29.484 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:29.484 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:29.485 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:29.485 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:29.487 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:29.488 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:29.490 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:29.493  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:29.493  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:29.641  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.354 seconds (JVM running for 8.931)
2020-12-02 23:19:29.645  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@542759f, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ba32242]; rollback [true]
2020-12-02 23:19:29.649 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:29.650 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:29.650 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [April]
2020-12-02 23:19:29.650 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:29.650 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [2]
2020-12-02 23:19:29.650 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [bfce17ca-5518-4d74-a0d2-52844238f1fd]
2020-12-02 23:19:29.651 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:29.652 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [April]
2020-12-02 23:19:29.656  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@542759f, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[6]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.384">
    <system-out><![CDATA[2020-12-02 23:19:29.676  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:29.677  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:29.677 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:29.681 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:29.681 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:29.700  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:29.700  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:29.753  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:29.763  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:29.771  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:29.783  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:a78fe61e-7a17-4058-ace8-59784cfab849;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:29.828  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:29.832  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:29.875 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:29.876 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:29.877 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:29.877 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:29.879 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:29.880 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:29.881 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:29.885  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:29.885  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:30.039  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.354 seconds (JVM running for 9.329)
2020-12-02 23:19:30.043  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@306f439c, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@16a3d9a7]; rollback [true]
2020-12-02 23:19:30.047 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:30.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:30.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:30.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:30.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [2]
2020-12-02 23:19:30.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [0f0b37fd-8a89-43b0-8b52-52ae0b7c525c]
2020-12-02 23:19:30.049 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:30.050 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:30.053  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@306f439c, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[7]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.396">
    <system-out><![CDATA[2020-12-02 23:19:30.056  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:30.057  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:30.057 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:30.058 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:30.059 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:30.085  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:30.086  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:30.138  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:30.148  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:30.155  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:30.167  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:4faa6f20-b4a5-4aed-962a-d1e345eff9f5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:30.214  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:30.218  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:30.258 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:30.259 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:30.259 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:30.260 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:30.262 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:30.263 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:30.264 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:30.267  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:30.267  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:30.439  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.376 seconds (JVM running for 9.729)
2020-12-02 23:19:30.442  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@48c5a07d, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4f1a4d61]; rollback [true]
2020-12-02 23:19:30.446 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:30.446 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:30.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Dylan]
2020-12-02 23:19:30.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:30.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [3]
2020-12-02 23:19:30.447 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [2d00336a-f919-413b-a66c-bd4b0e3bc460]
2020-12-02 23:19:30.448 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:30.448 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Dylan]
2020-12-02 23:19:30.451  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@48c5a07d, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[8]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.355">
    <system-out><![CDATA[2020-12-02 23:19:30.464  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:30.464  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:30.464 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:30.469 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:30.474 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:30.490  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:30.490  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:30.540  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:30.549  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:30.557  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:30.568  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:7cb5236a-ed04-4ca2-9da3-d9cf600cfed7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:30.605  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:30.609  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:30.649 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:30.649 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:30.649 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:30.650 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:30.651 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:30.652 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:30.652 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:30.655  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:30.655  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:30.802  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.324 seconds (JVM running for 10.093)
2020-12-02 23:19:30.805  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@2aaf7354, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3f9e38d4]; rollback [true]
2020-12-02 23:19:30.809 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:30.809 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:30.809 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kevin]
2020-12-02 23:19:30.809 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:30.809 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:30.809 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [13de40cb-9ca6-45be-8e14-390f9c7691ba]
2020-12-02 23:19:30.810 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:30.811 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kevin]
2020-12-02 23:19:30.813  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@2aaf7354, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[9]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.358">
    <system-out><![CDATA[2020-12-02 23:19:30.826  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:30.826  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:30.826 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:30.827 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:30.828 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:30.852  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:30.852  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:30.911  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:30.923  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:30.931  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:30.941  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:485d14a0-6b5f-4de6-a24b-fc4add09e1a6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:30.974  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:30.977  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:31.016 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:31.016 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:31.017 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:31.017 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:31.019 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:31.020 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:31.021 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:31.023  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:31.023  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:31.171  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.34 seconds (JVM running for 10.461)
2020-12-02 23:19:31.174  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@10f03ab0, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@63a6dffd]; rollback [true]
2020-12-02 23:19:31.178 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:31.178 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:31.179 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:31.179 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:31.179 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:31.179 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [e3f29ac4-ef45-401b-8aae-96dc06716d63]
2020-12-02 23:19:31.179 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:31.180 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:31.182  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@10f03ab0, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer(Player)[10]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.353">
    <system-out><![CDATA[2020-12-02 23:19:31.190  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:31.190  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:31.190 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:31.193 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:31.196 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:31.218  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:31.219  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:31.272  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:31.283  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:31.291  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:31.302  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:14527b29-ded4-4adf-a1ac-7867fafcef81;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:31.338  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:31.341  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:31.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:31.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:31.373 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:31.374 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:31.374 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:31.375 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:31.376 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:31.377  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:31.377  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:31.527  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.326 seconds (JVM running for 10.817)
2020-12-02 23:19:31.530  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6b760eb7, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@d67f6f]; rollback [true]
2020-12-02 23:19:31.534 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:31.534 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:31.534 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Dylan]
2020-12-02 23:19:31.534 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:31.534 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [3]
2020-12-02 23:19:31.534 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [1be7e157-65e6-40cf-b137-7c155e955c1d]
2020-12-02 23:19:31.535 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:31.535 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Dylan]
2020-12-02 23:19:31.539  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6b760eb7, testMethod = addPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="findPlayer" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.345">
    <system-out><![CDATA[2020-12-02 23:19:31.551  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:31.552  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:31.552 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:31.553 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:31.554 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:31.576  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:31.577  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:31.623  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:31.632  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:31.639  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:31.648  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:4209a5d0-e2c3-4b8d-87b1-9491c7cc773e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:31.684  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:31.687  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:31.719 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:31.719 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:31.719 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:31.720 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:31.721 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:31.722 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:31.722 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:31.725  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:31.725  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:31.885  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.325 seconds (JVM running for 11.176)
2020-12-02 23:19:31.890  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@45488836, testMethod = findPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2b3247f8]; rollback [true]
2020-12-02 23:19:31.892  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@45488836, testMethod = findPlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="testRemovePlayer" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.385">
    <system-out><![CDATA[2020-12-02 23:19:31.907  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:31.907  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:31.907 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:31.908 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:31.908 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:31.931  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:31.932  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:32.004  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:32.015  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:32.023  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:32.036  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0526b167-4527-4aec-9b0c-f21cdc485ea5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:32.080  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:32.084  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:32.146 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:32.147 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:32.147 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:32.148 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:32.150 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:32.151 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:32.152 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:32.159  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:32.159  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:32.283  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.365 seconds (JVM running for 11.573)
2020-12-02 23:19:32.286  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@21c301ab, testMethod = testRemovePlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@40ee664c]; rollback [true]
2020-12-02 23:19:32.289  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@21c301ab, testMethod = testRemovePlayer@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[1]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.406">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=063accb6-093b-41f4-bba7-14c073b16ceb, version=0, name=Kalina, color=#FFFFFF, wins=1),
    Player(id=1bb49906-3abf-4011-8d48-c6c99c8bf0b1, version=0, name=Kalina, color=#FFFFFF, wins=1)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:32.296  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:32.296  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:32.296 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:32.299 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:32.300 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:32.327  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:32.327  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:32.390  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:32.399  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:32.406  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:32.420  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:d4c0e4da-10ef-4c1a-96cd-7cc34fe62164;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:32.467  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:32.473  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:32.515 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:32.516 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:32.516 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:32.516 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:32.517 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:32.518 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:32.519 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:32.521  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:32.521  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:32.672  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.363 seconds (JVM running for 11.962)
2020-12-02 23:19:32.677  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@55c7ba5, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@f11fe28]; rollback [true]
2020-12-02 23:19:32.682 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:32.683 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:32.683 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:32.683 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:32.683 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:32.683 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [063accb6-093b-41f4-bba7-14c073b16ceb]
2020-12-02 23:19:32.684 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:32.684 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:32.684 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:32.684 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:32.684 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:32.684 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [1bb49906-3abf-4011-8d48-c6c99c8bf0b1]
2020-12-02 23:19:32.687 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:32.687 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:32.699  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@55c7ba5, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=063accb6-093b-41f4-bba7-14c073b16ceb, version=0, name=Kalina, color=#FFFFFF, wins=1),
    Player(id=1bb49906-3abf-4011-8d48-c6c99c8bf0b1, version=0, name=Kalina, color=#FFFFFF, wins=1)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[2]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.349">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=63518307-e960-45f6-a7d1-d79dcfbb6673, version=0, name=Perry, color=#800000, wins=4),
    Player(id=689f60e3-0fa3-4413-a48d-870ccaa71b9e, version=0, name=Perry, color=#800000, wins=4)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:32.706  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:32.707  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:32.707 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:32.708 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:32.709 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:32.733  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:32.734  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:32.786  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:32.796  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:32.802  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:32.812  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b8b2e3e9-d5b9-4713-935c-cd348cf2d7a0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:32.844  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:32.847  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:32.877 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:32.878 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:32.878 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:32.878 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:32.880 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:32.881 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:32.882 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:32.886  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:32.886  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:33.039  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.327 seconds (JVM running for 12.329)
2020-12-02 23:19:33.043  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@55aa97df, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@328c6f65]; rollback [true]
2020-12-02 23:19:33.048 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:33.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:33.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Perry]
2020-12-02 23:19:33.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:33.048 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:33.049 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [63518307-e960-45f6-a7d1-d79dcfbb6673]
2020-12-02 23:19:33.049 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:33.050 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:33.050 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Perry]
2020-12-02 23:19:33.050 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:33.050 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:33.050 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [689f60e3-0fa3-4413-a48d-870ccaa71b9e]
2020-12-02 23:19:33.050 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:33.051 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Perry]
2020-12-02 23:19:33.053  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@55aa97df, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=63518307-e960-45f6-a7d1-d79dcfbb6673, version=0, name=Perry, color=#800000, wins=4),
    Player(id=689f60e3-0fa3-4413-a48d-870ccaa71b9e, version=0, name=Perry, color=#800000, wins=4)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[3]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.338">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=cc6865e0-cd4f-4403-a99c-968e08b08e60, version=0, name=Perry, color=#800000, wins=4),
    Player(id=e8c5c79b-ca8e-45b8-ad92-1900047c234d, version=0, name=Perry, color=#800000, wins=4)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:33.060  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:33.061  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:33.061 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:33.062 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:33.063 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:33.090  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:33.090  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:33.139  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:33.151  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:33.161  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:33.171  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:b4831ac3-ec73-4739-8e83-90c6ef7ba7b5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:33.206  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:33.209  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:33.236 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:33.237 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:33.237 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:33.237 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:33.238 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:33.239 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:33.240 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:33.241  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:33.242  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:33.383  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.316 seconds (JVM running for 12.673)
2020-12-02 23:19:33.385  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@4bfd9e3a, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2441c0b]; rollback [true]
2020-12-02 23:19:33.391 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:33.391 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:33.391 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Perry]
2020-12-02 23:19:33.391 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:33.391 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:33.391 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [cc6865e0-cd4f-4403-a99c-968e08b08e60]
2020-12-02 23:19:33.392 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:33.392 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#800000]
2020-12-02 23:19:33.392 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Perry]
2020-12-02 23:19:33.392 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:33.392 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:33.392 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [e8c5c79b-ca8e-45b8-ad92-1900047c234d]
2020-12-02 23:19:33.393 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:33.393 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Perry]
2020-12-02 23:19:33.396  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@4bfd9e3a, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=cc6865e0-cd4f-4403-a99c-968e08b08e60, version=0, name=Perry, color=#800000, wins=4),
    Player(id=e8c5c79b-ca8e-45b8-ad92-1900047c234d, version=0, name=Perry, color=#800000, wins=4)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[4]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.343">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=6bd7760a-b09d-428d-afc5-d220e057ca1c, version=0, name=Kalina, color=#000099, wins=4),
    Player(id=904937b0-e3fc-44d5-bde3-17e15015fe47, version=0, name=Kalina, color=#000099, wins=4)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:33.402  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:33.403  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:33.403 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:33.405 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:33.407 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:33.437  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:33.437  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:33.490  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:33.499  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:33.506  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:33.517  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:3089cf2c-4b39-4973-859c-e40cf4afc922;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:33.554  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:33.558  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:33.588 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:33.589 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:33.589 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:33.589 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:33.590 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:33.590 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:33.591 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:33.592  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:33.593  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:33.729  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.31 seconds (JVM running for 13.019)
2020-12-02 23:19:33.732  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@a59819f, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@dfb044a]; rollback [true]
2020-12-02 23:19:33.736 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:33.737 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:33.737 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:33.737 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:33.737 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:33.737 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [6bd7760a-b09d-428d-afc5-d220e057ca1c]
2020-12-02 23:19:33.738 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:33.738 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#000099]
2020-12-02 23:19:33.738 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:33.738 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:33.738 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [4]
2020-12-02 23:19:33.738 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [904937b0-e3fc-44d5-bde3-17e15015fe47]
2020-12-02 23:19:33.739 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:33.739 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:33.742  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@a59819f, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=6bd7760a-b09d-428d-afc5-d220e057ca1c, version=0, name=Kalina, color=#000099, wins=4),
    Player(id=904937b0-e3fc-44d5-bde3-17e15015fe47, version=0, name=Kalina, color=#000099, wins=4)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[5]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.358">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=bf37596c-2e03-4dd9-bc9c-441dbf138d9a, version=0, name=Liam, color=#808080, wins=1),
    Player(id=5bcf4606-1d94-4862-a68a-09f92d475ccf, version=0, name=Liam, color=#808080, wins=1)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:33.746  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:33.746  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:33.746 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:33.747 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:33.747 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:33.770  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:33.771  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:33.817  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:33.828  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:33.834  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:33.846  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:354727fe-9a2c-4301-9bd9-0ddeb77ee645;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:33.875  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:33.886  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:33.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:33.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:33.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:33.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:33.920 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:33.921 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:33.922 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:33.925  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:33.925  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:34.085  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.334 seconds (JVM running for 13.375)
2020-12-02 23:19:34.088  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6a651151, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@340a5c52]; rollback [true]
2020-12-02 23:19:34.094 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:34.094 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:34.094 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Liam]
2020-12-02 23:19:34.094 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:34.094 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:34.094 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [bf37596c-2e03-4dd9-bc9c-441dbf138d9a]
2020-12-02 23:19:34.095 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:34.095 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#808080]
2020-12-02 23:19:34.095 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Liam]
2020-12-02 23:19:34.096 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:34.096 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:34.096 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [5bcf4606-1d94-4862-a68a-09f92d475ccf]
2020-12-02 23:19:34.096 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:34.097 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Liam]
2020-12-02 23:19:34.102  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@6a651151, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=bf37596c-2e03-4dd9-bc9c-441dbf138d9a, version=0, name=Liam, color=#808080, wins=1),
    Player(id=5bcf4606-1d94-4862-a68a-09f92d475ccf, version=0, name=Liam, color=#808080, wins=1)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[6]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.332">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=66c20bd4-f96d-427f-8ec6-b17340d65599, version=0, name=Kalina, color=#FF0000, wins=1),
    Player(id=01cb5bd6-7a53-4d29-ade9-cd2947eb0a6c, version=0, name=Kalina, color=#FF0000, wins=1)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:34.106  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:34.106  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:34.107 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:34.108 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:34.108 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:34.132  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:34.133  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:34.196  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:34.205  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:34.211  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:34.221  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:0294499d-5737-48be-9fae-663688e65b3d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:34.259  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:34.262  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:34.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:34.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:34.291 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:34.292 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:34.293 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:34.293 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:34.294 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:34.296  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:34.296  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:34.423  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.311 seconds (JVM running for 13.714)
2020-12-02 23:19:34.427  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@5dbae6f7, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@afcfc63]; rollback [true]
2020-12-02 23:19:34.431 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:34.431 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:34.431 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:34.431 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:34.431 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:34.431 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [66c20bd4-f96d-427f-8ec6-b17340d65599]
2020-12-02 23:19:34.432 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:34.432 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FF0000]
2020-12-02 23:19:34.432 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:34.432 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:34.432 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:34.432 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [01cb5bd6-7a53-4d29-ade9-cd2947eb0a6c]
2020-12-02 23:19:34.432 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:34.433 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:34.436  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@5dbae6f7, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=66c20bd4-f96d-427f-8ec6-b17340d65599, version=0, name=Kalina, color=#FF0000, wins=1),
    Player(id=01cb5bd6-7a53-4d29-ade9-cd2947eb0a6c, version=0, name=Kalina, color=#FF0000, wins=1)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[7]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.343">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=b4b791d0-fc4b-49a7-9c01-6d17aaf7993c, version=0, name=Liam, color=#3366CC, wins=0),
    Player(id=ae171784-5c2f-474a-a55d-4b76224fbea8, version=0, name=Liam, color=#3366CC, wins=0)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:34.440  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:34.440  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:34.440 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:34.441 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:34.441 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:34.461  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:34.462  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:34.515  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:34.524  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:34.530  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:34.549  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:cc84a633-8b2c-4791-ab3f-6bcb66c98adb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:34.582  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:34.585  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:34.619 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:34.619 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:34.620 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:34.620 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:34.621 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:34.622 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:34.623 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:34.625  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:34.625  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:34.767  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.323 seconds (JVM running for 14.057)
2020-12-02 23:19:34.771  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@1332d4ae, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@11675922]; rollback [true]
2020-12-02 23:19:34.776 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:34.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:34.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Liam]
2020-12-02 23:19:34.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:34.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:34.776 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [b4b791d0-fc4b-49a7-9c01-6d17aaf7993c]
2020-12-02 23:19:34.777 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:34.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#3366CC]
2020-12-02 23:19:34.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Liam]
2020-12-02 23:19:34.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:34.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:34.777 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [ae171784-5c2f-474a-a55d-4b76224fbea8]
2020-12-02 23:19:34.778 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:34.778 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Liam]
2020-12-02 23:19:34.781  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@1332d4ae, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=b4b791d0-fc4b-49a7-9c01-6d17aaf7993c, version=0, name=Liam, color=#3366CC, wins=0),
    Player(id=ae171784-5c2f-474a-a55d-4b76224fbea8, version=0, name=Liam, color=#3366CC, wins=0)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[8]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.321">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=8c279481-060d-4f5e-9bbe-378310a6bb1b, version=0, name=Kalina, color=#FFFFFF, wins=1),
    Player(id=8f1cc570-3972-44b5-bfdd-cf50b173dc51, version=0, name=Kalina, color=#FFFFFF, wins=1)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:34.784  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:34.784  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:34.784 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:34.785 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:34.786 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:34.809  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:34.810  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:34.856  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:34.864  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:34.869  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:34.879  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:6cf15108-1be9-4027-ae01-2780b23dd26b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:34.916  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:34.919  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:34.946 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:34.947 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:34.947 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:34.947 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:34.948 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:34.949 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:34.949 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:34.951  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:34.952  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:35.087  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.298 seconds (JVM running for 14.377)
2020-12-02 23:19:35.092  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@a2dfad, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6da0228a]; rollback [true]
2020-12-02 23:19:35.097 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:35.097 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:35.097 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:35.097 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:35.097 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:35.097 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [8c279481-060d-4f5e-9bbe-378310a6bb1b]
2020-12-02 23:19:35.099 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:35.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:35.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:35.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:35.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:35.099 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [8f1cc570-3972-44b5-bfdd-cf50b173dc51]
2020-12-02 23:19:35.100 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:35.100 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:35.104  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@a2dfad, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=8c279481-060d-4f5e-9bbe-378310a6bb1b, version=0, name=Kalina, color=#FFFFFF, wins=1),
    Player(id=8f1cc570-3972-44b5-bfdd-cf50b173dc51, version=0, name=Kalina, color=#FFFFFF, wins=1)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[9]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.338">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=69da1bbb-c144-425b-af81-58acc2853587, version=0, name=Kalina, color=#FFFFFF, wins=0),
    Player(id=358bd32c-e468-49ae-be12-9a72038a7c98, version=0, name=Kalina, color=#FFFFFF, wins=0)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:35.121  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:35.121  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:35.121 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:35.122 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:35.122 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:35.147  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:35.148  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:35.205  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:35.214  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:35.219  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:35.231  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:27e728bf-5b52-4978-9d01-9ea817a6c6d3;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:35.264  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:35.268  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:35.296 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:35.296 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:35.297 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:35.297 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:35.298 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:35.299 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:35.300 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:35.301  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:35.302  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:35.439  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.304 seconds (JVM running for 14.73)
2020-12-02 23:19:35.443  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@243dc57b, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5b0bfe86]; rollback [true]
2020-12-02 23:19:35.450 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:35.451 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:35.451 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:35.451 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:35.451 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:35.451 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [69da1bbb-c144-425b-af81-58acc2853587]
2020-12-02 23:19:35.452 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:35.452 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:35.452 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Kalina]
2020-12-02 23:19:35.452 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:35.452 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [0]
2020-12-02 23:19:35.452 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [358bd32c-e468-49ae-be12-9a72038a7c98]
2020-12-02 23:19:35.453 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:35.453 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Kalina]
2020-12-02 23:19:35.457  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@243dc57b, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=69da1bbb-c144-425b-af81-58acc2853587, version=0, name=Kalina, color=#FFFFFF, wins=0),
    Player(id=358bd32c-e468-49ae-be12-9a72038a7c98, version=0, name=Kalina, color=#FFFFFF, wins=0)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
  <testcase name="addPlayer_preExisting(Player)[10]" classname="com.luckyl.wargame.service.PlayerServiceImplTest" time="0.462">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: 

Expected size:<1> but was:<2> in:
<[Player(id=6bc3719a-ff99-4ed6-9c6b-a593ef355fdd, version=0, name=Perry, color=#FFFFFF, wins=1),
    Player(id=e91a6e71-2206-4337-994f-d3a7ce3f776f, version=0, name=Perry, color=#FFFFFF, wins=1)]>
	at com.luckyl.wargame.service.PlayerServiceImplTest.addPlayer_preExisting(PlayerServiceImplTest.java:66)
]]></failure>
    <system-out><![CDATA[2020-12-02 23:19:35.467  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:35.467  INFO 43721 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2020-12-02 23:19:35.467 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:35.490 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:35.490 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-12-02 23:19:35.512  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Starting PlayerServiceImplTest on Aprils-MacBook-Air.local with PID 43721 (started by kevinapril in /Users/kevinapril/git/wargame/wargame-service)
2020-12-02 23:19:35.512  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : No active profile set, falling back to default profiles: default
2020-12-02 23:19:35.588  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-12-02 23:19:35.600  INFO 43721 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 3 JPA repository interfaces.
2020-12-02 23:19:35.608  INFO 43721 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2020-12-02 23:19:35.623  INFO 43721 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:bb23bbe5-dc66-4ecc-a663-9efdf7d5b1a5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2020-12-02 23:19:35.671  INFO 43721 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-12-02 23:19:35.675  INFO 43721 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2020-12-02 23:19:35.725 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table location if exists
Hibernate: drop table location if exists
2020-12-02 23:19:35.726 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table piece if exists
Hibernate: drop table piece if exists
2020-12-02 23:19:35.726 DEBUG 43721 --- [           main] org.hibernate.SQL                        : drop table player if exists
Hibernate: drop table player if exists
2020-12-02 23:19:35.726 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
Hibernate: create table location (piece_col integer not null, piece_row integer not null, version bigint, piece_color varchar(255), piece_rank integer, primary key (piece_col, piece_row))
2020-12-02 23:19:35.727 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
Hibernate: create table piece (color varchar(255) not null, rank integer not null, current_count integer, max_count integer, version bigint, primary key (color, rank))
2020-12-02 23:19:35.729 DEBUG 43721 --- [           main] org.hibernate.SQL                        : create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
Hibernate: create table player (id binary not null, color varchar(255), name varchar(255), version bigint, wins integer, primary key (id))
2020-12-02 23:19:35.729 DEBUG 43721 --- [           main] org.hibernate.SQL                        : alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
Hibernate: alter table location add constraint FKh7n4c5044va5r87h6dxrbbbcq foreign key (piece_color, piece_rank) references piece
2020-12-02 23:19:35.736  INFO 43721 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-12-02 23:19:35.736  INFO 43721 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-12-02 23:19:35.910  INFO 43721 --- [           main] c.l.w.service.PlayerServiceImplTest      : Started PlayerServiceImplTest in 0.416 seconds (JVM running for 15.2)
2020-12-02 23:19:35.913  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@84ab902, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dbd1fdb]; rollback [true]
2020-12-02 23:19:35.918 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:35.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:35.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Perry]
2020-12-02 23:19:35.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:35.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:35.918 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [6bc3719a-ff99-4ed6-9c6b-a593ef355fdd]
2020-12-02 23:19:35.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
Hibernate: insert into player (color, name, version, wins, id) values (?, ?, ?, ?, ?)
2020-12-02 23:19:35.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [#FFFFFF]
2020-12-02 23:19:35.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Perry]
2020-12-02 23:19:35.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [0]
2020-12-02 23:19:35.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [INTEGER] - [1]
2020-12-02 23:19:35.919 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BINARY] - [e91a6e71-2206-4337-994f-d3a7ce3f776f]
2020-12-02 23:19:35.919 DEBUG 43721 --- [           main] org.hibernate.SQL                        : select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
Hibernate: select player0_.id as id1_2_, player0_.color as color2_2_, player0_.name as name3_2_, player0_.version as version4_2_, player0_.wins as wins5_2_ from player player0_ where player0_.name=?
2020-12-02 23:19:35.920 TRACE 43721 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [Perry]
2020-12-02 23:19:35.922  INFO 43721 --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@2bec854f testClass = PlayerServiceImplTest, testInstance = com.luckyl.wargame.service.PlayerServiceImplTest@84ab902, testMethod = addPlayer_preExisting@PlayerServiceImplTest, testException = java.lang.AssertionError: 
Expected size:<1> but was:<2> in:
<[Player(id=6bc3719a-ff99-4ed6-9c6b-a593ef355fdd, version=0, name=Perry, color=#FFFFFF, wins=1),
    Player(id=e91a6e71-2206-4337-994f-d3a7ce3f776f, version=0, name=Perry, color=#FFFFFF, wins=1)]>, mergedContextConfiguration = [MergedContextConfiguration@31edaa7d testClass = PlayerServiceImplTest, locations = '{}', classes = '{class com.luckyl.wargame.TestApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{logging.level.org.hibernate.SQL=DEBUG, logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE, org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@26adfd2d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e0b4072, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b45a2f5, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3e27aa33, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c5e899a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@2d38751a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cb0755b], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
]]></system-out>
  </testcase>
</testsuite>